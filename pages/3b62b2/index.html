<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据分析 NumPy-Pandas | 刘沙河</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="stylesheet" href="/iconfont/font_3077305_pt8umhrn4k9.css">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="go语言博客,个人技术博客,后端,后端开发,go框架,后端面试题,技术文档,学习,面试,Go,go,Golang,golang,python,Python,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.bc45a961.css" as="style"><link rel="preload" href="/assets/js/app.a4b4c4d6.js" as="script"><link rel="preload" href="/assets/js/2.175b47d8.js" as="script"><link rel="preload" href="/assets/js/126.78068f21.js" as="script"><link rel="preload" href="/assets/js/6.a6a5cbc6.js" as="script"><link rel="prefetch" href="/assets/js/10.d2a2006e.js"><link rel="prefetch" href="/assets/js/100.4514377e.js"><link rel="prefetch" href="/assets/js/101.c517501c.js"><link rel="prefetch" href="/assets/js/102.61d4c520.js"><link rel="prefetch" href="/assets/js/103.88eaaea1.js"><link rel="prefetch" href="/assets/js/104.78c0a555.js"><link rel="prefetch" href="/assets/js/105.a7e953bc.js"><link rel="prefetch" href="/assets/js/106.78dbbdf8.js"><link rel="prefetch" href="/assets/js/107.565cb803.js"><link rel="prefetch" href="/assets/js/108.9c17227c.js"><link rel="prefetch" href="/assets/js/109.264e2457.js"><link rel="prefetch" href="/assets/js/11.e6ab1323.js"><link rel="prefetch" href="/assets/js/110.2e758bdf.js"><link rel="prefetch" href="/assets/js/111.ca6741e6.js"><link rel="prefetch" href="/assets/js/112.a52484f2.js"><link rel="prefetch" href="/assets/js/113.629ffb47.js"><link rel="prefetch" href="/assets/js/114.0799e6c0.js"><link rel="prefetch" href="/assets/js/115.3da91837.js"><link rel="prefetch" href="/assets/js/116.a04f8dfd.js"><link rel="prefetch" href="/assets/js/117.7d46d1f0.js"><link rel="prefetch" href="/assets/js/118.e6eb8550.js"><link rel="prefetch" href="/assets/js/119.96445058.js"><link rel="prefetch" href="/assets/js/12.b4bb7273.js"><link rel="prefetch" href="/assets/js/120.145adbd9.js"><link rel="prefetch" href="/assets/js/121.97d4517b.js"><link rel="prefetch" href="/assets/js/122.9811901f.js"><link rel="prefetch" href="/assets/js/123.6a1a9f90.js"><link rel="prefetch" href="/assets/js/124.e9438b7d.js"><link rel="prefetch" href="/assets/js/125.7a611d8d.js"><link rel="prefetch" href="/assets/js/127.a990c35c.js"><link rel="prefetch" href="/assets/js/128.fe20a142.js"><link rel="prefetch" href="/assets/js/129.2bdfbd9c.js"><link rel="prefetch" href="/assets/js/13.9b47eae4.js"><link rel="prefetch" href="/assets/js/130.d27623f1.js"><link rel="prefetch" href="/assets/js/131.be798fd2.js"><link rel="prefetch" href="/assets/js/132.b0c06ca8.js"><link rel="prefetch" href="/assets/js/133.8836092b.js"><link rel="prefetch" href="/assets/js/134.040ed2bc.js"><link rel="prefetch" href="/assets/js/135.c4e4cfe6.js"><link rel="prefetch" href="/assets/js/136.39276bb8.js"><link rel="prefetch" href="/assets/js/137.8174453a.js"><link rel="prefetch" href="/assets/js/138.77923b91.js"><link rel="prefetch" href="/assets/js/139.76bd7848.js"><link rel="prefetch" href="/assets/js/14.8661fc92.js"><link rel="prefetch" href="/assets/js/140.2848b075.js"><link rel="prefetch" href="/assets/js/141.69c0f14f.js"><link rel="prefetch" href="/assets/js/142.e6c076ad.js"><link rel="prefetch" href="/assets/js/143.355867cf.js"><link rel="prefetch" href="/assets/js/144.a5a873b3.js"><link rel="prefetch" href="/assets/js/145.24b884f0.js"><link rel="prefetch" href="/assets/js/146.73948f4b.js"><link rel="prefetch" href="/assets/js/147.fde6865a.js"><link rel="prefetch" href="/assets/js/148.3f0abf9c.js"><link rel="prefetch" href="/assets/js/149.cd27a38f.js"><link rel="prefetch" href="/assets/js/15.54a85059.js"><link rel="prefetch" href="/assets/js/150.962b8cef.js"><link rel="prefetch" href="/assets/js/151.e2b539be.js"><link rel="prefetch" href="/assets/js/152.a8e0d81b.js"><link rel="prefetch" href="/assets/js/153.ff156b07.js"><link rel="prefetch" href="/assets/js/154.60b1e2bb.js"><link rel="prefetch" href="/assets/js/155.443e5f04.js"><link rel="prefetch" href="/assets/js/156.81aea40b.js"><link rel="prefetch" href="/assets/js/157.127436ad.js"><link rel="prefetch" href="/assets/js/158.88e7a03f.js"><link rel="prefetch" href="/assets/js/159.269c8e7e.js"><link rel="prefetch" href="/assets/js/16.1bb6eaff.js"><link rel="prefetch" href="/assets/js/160.e8d6b4c9.js"><link rel="prefetch" href="/assets/js/161.7571e679.js"><link rel="prefetch" href="/assets/js/162.132cd95e.js"><link rel="prefetch" href="/assets/js/163.afa0338f.js"><link rel="prefetch" href="/assets/js/164.2d515528.js"><link rel="prefetch" href="/assets/js/165.9ed24024.js"><link rel="prefetch" href="/assets/js/166.ff49740a.js"><link rel="prefetch" href="/assets/js/167.242d0dc2.js"><link rel="prefetch" href="/assets/js/168.d9ca3970.js"><link rel="prefetch" href="/assets/js/169.aeb05a03.js"><link rel="prefetch" href="/assets/js/17.65398ebe.js"><link rel="prefetch" href="/assets/js/170.e8efe234.js"><link rel="prefetch" href="/assets/js/171.b8bfc61a.js"><link rel="prefetch" href="/assets/js/172.8caf9373.js"><link rel="prefetch" href="/assets/js/173.146bfc28.js"><link rel="prefetch" href="/assets/js/174.5455aa7b.js"><link rel="prefetch" href="/assets/js/175.2eabed59.js"><link rel="prefetch" href="/assets/js/176.422a9d30.js"><link rel="prefetch" href="/assets/js/177.d7007fdc.js"><link rel="prefetch" href="/assets/js/178.711020a6.js"><link rel="prefetch" href="/assets/js/179.ce2ae712.js"><link rel="prefetch" href="/assets/js/18.3b799c40.js"><link rel="prefetch" href="/assets/js/180.c14f784e.js"><link rel="prefetch" href="/assets/js/181.1d917f62.js"><link rel="prefetch" href="/assets/js/182.0aaeaf90.js"><link rel="prefetch" href="/assets/js/183.f8a32be5.js"><link rel="prefetch" href="/assets/js/184.6ca4c1f2.js"><link rel="prefetch" href="/assets/js/185.12a4c113.js"><link rel="prefetch" href="/assets/js/186.2e0e4262.js"><link rel="prefetch" href="/assets/js/187.6fa8f1a4.js"><link rel="prefetch" href="/assets/js/188.53b3ff4d.js"><link rel="prefetch" href="/assets/js/189.4edd16bf.js"><link rel="prefetch" href="/assets/js/19.e7a1faeb.js"><link rel="prefetch" href="/assets/js/190.00d16fcd.js"><link rel="prefetch" href="/assets/js/191.02ea1782.js"><link rel="prefetch" href="/assets/js/192.8fde0195.js"><link rel="prefetch" href="/assets/js/193.671a5680.js"><link rel="prefetch" href="/assets/js/194.5f168a97.js"><link rel="prefetch" href="/assets/js/195.df9b0912.js"><link rel="prefetch" href="/assets/js/196.cbc3e789.js"><link rel="prefetch" href="/assets/js/197.95f4efd5.js"><link rel="prefetch" href="/assets/js/198.311a687d.js"><link rel="prefetch" href="/assets/js/199.a20e87af.js"><link rel="prefetch" href="/assets/js/20.64af1b37.js"><link rel="prefetch" href="/assets/js/200.aa836830.js"><link rel="prefetch" href="/assets/js/201.7c2bcbb2.js"><link rel="prefetch" href="/assets/js/202.b4b41e58.js"><link rel="prefetch" href="/assets/js/203.aa4ecc1c.js"><link rel="prefetch" href="/assets/js/204.e10ab51a.js"><link rel="prefetch" href="/assets/js/205.a74f8f34.js"><link rel="prefetch" href="/assets/js/206.dfa2d631.js"><link rel="prefetch" href="/assets/js/207.92034ec8.js"><link rel="prefetch" href="/assets/js/208.7e0bfc36.js"><link rel="prefetch" href="/assets/js/209.baca5c2c.js"><link rel="prefetch" href="/assets/js/21.ca06ca3a.js"><link rel="prefetch" href="/assets/js/210.0db033ea.js"><link rel="prefetch" href="/assets/js/211.bfc05b61.js"><link rel="prefetch" href="/assets/js/212.1e019ea0.js"><link rel="prefetch" href="/assets/js/213.3affa094.js"><link rel="prefetch" href="/assets/js/214.556ccb98.js"><link rel="prefetch" href="/assets/js/215.da8dafd9.js"><link rel="prefetch" href="/assets/js/216.f0cc8743.js"><link rel="prefetch" href="/assets/js/217.280d2690.js"><link rel="prefetch" href="/assets/js/218.02c2fe5e.js"><link rel="prefetch" href="/assets/js/219.e8ba7706.js"><link rel="prefetch" href="/assets/js/22.d1963d60.js"><link rel="prefetch" href="/assets/js/220.6f42c0a3.js"><link rel="prefetch" href="/assets/js/221.62528fff.js"><link rel="prefetch" href="/assets/js/222.71ea3335.js"><link rel="prefetch" href="/assets/js/223.5a8df61a.js"><link rel="prefetch" href="/assets/js/224.3807dca3.js"><link rel="prefetch" href="/assets/js/225.59018f24.js"><link rel="prefetch" href="/assets/js/226.d36ce618.js"><link rel="prefetch" href="/assets/js/227.0db1f329.js"><link rel="prefetch" href="/assets/js/228.8f4566eb.js"><link rel="prefetch" href="/assets/js/229.3432fc2f.js"><link rel="prefetch" href="/assets/js/23.e4676f8a.js"><link rel="prefetch" href="/assets/js/230.17b8c87c.js"><link rel="prefetch" href="/assets/js/231.734d0a1e.js"><link rel="prefetch" href="/assets/js/232.5fb56712.js"><link rel="prefetch" href="/assets/js/233.5670fcca.js"><link rel="prefetch" href="/assets/js/234.03d01394.js"><link rel="prefetch" href="/assets/js/235.3907f048.js"><link rel="prefetch" href="/assets/js/236.88837bb2.js"><link rel="prefetch" href="/assets/js/237.9994c3ac.js"><link rel="prefetch" href="/assets/js/238.5bb5fc81.js"><link rel="prefetch" href="/assets/js/239.19b2724a.js"><link rel="prefetch" href="/assets/js/24.9c2ebb5d.js"><link rel="prefetch" href="/assets/js/240.c6179f5a.js"><link rel="prefetch" href="/assets/js/241.3eb546fd.js"><link rel="prefetch" href="/assets/js/242.d6c09cac.js"><link rel="prefetch" href="/assets/js/243.db9dafb0.js"><link rel="prefetch" href="/assets/js/244.d457e04f.js"><link rel="prefetch" href="/assets/js/245.0b53b4bf.js"><link rel="prefetch" href="/assets/js/246.70df42c8.js"><link rel="prefetch" href="/assets/js/247.70082681.js"><link rel="prefetch" href="/assets/js/248.dbd07d8d.js"><link rel="prefetch" href="/assets/js/249.2e61051e.js"><link rel="prefetch" href="/assets/js/25.a398b380.js"><link rel="prefetch" href="/assets/js/250.9f088d8e.js"><link rel="prefetch" href="/assets/js/251.66416892.js"><link rel="prefetch" href="/assets/js/252.1032d5a0.js"><link rel="prefetch" href="/assets/js/253.67b50cd4.js"><link rel="prefetch" href="/assets/js/254.310baa8b.js"><link rel="prefetch" href="/assets/js/255.ac2aab59.js"><link rel="prefetch" href="/assets/js/256.8a273de3.js"><link rel="prefetch" href="/assets/js/257.1afcf7d0.js"><link rel="prefetch" href="/assets/js/258.476ba2d7.js"><link rel="prefetch" href="/assets/js/259.432aedd7.js"><link rel="prefetch" href="/assets/js/26.5a935d19.js"><link rel="prefetch" href="/assets/js/260.eb12f280.js"><link rel="prefetch" href="/assets/js/261.de533b5a.js"><link rel="prefetch" href="/assets/js/262.53a85593.js"><link rel="prefetch" href="/assets/js/263.74ba80d8.js"><link rel="prefetch" href="/assets/js/264.a0b290e9.js"><link rel="prefetch" href="/assets/js/265.01f00d05.js"><link rel="prefetch" href="/assets/js/266.8a6bfbf4.js"><link rel="prefetch" href="/assets/js/267.bccd6d79.js"><link rel="prefetch" href="/assets/js/268.5eeeb455.js"><link rel="prefetch" href="/assets/js/269.bde7a11d.js"><link rel="prefetch" href="/assets/js/27.2e8e9a53.js"><link rel="prefetch" href="/assets/js/270.20ada417.js"><link rel="prefetch" href="/assets/js/271.9d8c2822.js"><link rel="prefetch" href="/assets/js/272.5262232f.js"><link rel="prefetch" href="/assets/js/273.ad62f3a8.js"><link rel="prefetch" href="/assets/js/274.bf1fdf4d.js"><link rel="prefetch" href="/assets/js/275.2c0b781a.js"><link rel="prefetch" href="/assets/js/276.7d8ba1c7.js"><link rel="prefetch" href="/assets/js/277.27493d9d.js"><link rel="prefetch" href="/assets/js/278.c3817595.js"><link rel="prefetch" href="/assets/js/279.fedd34b4.js"><link rel="prefetch" href="/assets/js/28.a6ee73ff.js"><link rel="prefetch" href="/assets/js/280.26205ec7.js"><link rel="prefetch" href="/assets/js/281.6e925efa.js"><link rel="prefetch" href="/assets/js/282.54606710.js"><link rel="prefetch" href="/assets/js/283.76dd02b4.js"><link rel="prefetch" href="/assets/js/284.e258a70b.js"><link rel="prefetch" href="/assets/js/285.c80d6f9d.js"><link rel="prefetch" href="/assets/js/286.60af59df.js"><link rel="prefetch" href="/assets/js/287.afd4f167.js"><link rel="prefetch" href="/assets/js/288.380c6268.js"><link rel="prefetch" href="/assets/js/289.27548631.js"><link rel="prefetch" href="/assets/js/29.d607601b.js"><link rel="prefetch" href="/assets/js/290.3e53b7b9.js"><link rel="prefetch" href="/assets/js/291.a5ac273f.js"><link rel="prefetch" href="/assets/js/292.1efff40c.js"><link rel="prefetch" href="/assets/js/293.f7d00829.js"><link rel="prefetch" href="/assets/js/294.5d36123e.js"><link rel="prefetch" href="/assets/js/295.9c58488a.js"><link rel="prefetch" href="/assets/js/296.e778c7f3.js"><link rel="prefetch" href="/assets/js/297.6e8c12e8.js"><link rel="prefetch" href="/assets/js/298.5dbe5ad9.js"><link rel="prefetch" href="/assets/js/299.b33879b1.js"><link rel="prefetch" href="/assets/js/3.e52400fb.js"><link rel="prefetch" href="/assets/js/30.af10be0a.js"><link rel="prefetch" href="/assets/js/31.a64e3186.js"><link rel="prefetch" href="/assets/js/32.b568d881.js"><link rel="prefetch" href="/assets/js/33.7e3efd9c.js"><link rel="prefetch" href="/assets/js/34.d5f718a3.js"><link rel="prefetch" href="/assets/js/35.e594f942.js"><link rel="prefetch" href="/assets/js/36.23ba3575.js"><link rel="prefetch" href="/assets/js/37.d056b124.js"><link rel="prefetch" href="/assets/js/38.78376eb9.js"><link rel="prefetch" href="/assets/js/39.c06ca3d2.js"><link rel="prefetch" href="/assets/js/4.2c8dcdaf.js"><link rel="prefetch" href="/assets/js/40.78d6e29d.js"><link rel="prefetch" href="/assets/js/41.15307b1b.js"><link rel="prefetch" href="/assets/js/42.5d955991.js"><link rel="prefetch" href="/assets/js/43.64255dd9.js"><link rel="prefetch" href="/assets/js/44.fc7b38a6.js"><link rel="prefetch" href="/assets/js/45.b3f9ef0f.js"><link rel="prefetch" href="/assets/js/46.3039beb5.js"><link rel="prefetch" href="/assets/js/47.c59c98f6.js"><link rel="prefetch" href="/assets/js/48.e0ffe856.js"><link rel="prefetch" href="/assets/js/49.7bd30518.js"><link rel="prefetch" href="/assets/js/5.12d9e187.js"><link rel="prefetch" href="/assets/js/50.6d607770.js"><link rel="prefetch" href="/assets/js/51.eef57cca.js"><link rel="prefetch" href="/assets/js/52.d6cb8e6b.js"><link rel="prefetch" href="/assets/js/53.05197d56.js"><link rel="prefetch" href="/assets/js/54.b659ece8.js"><link rel="prefetch" href="/assets/js/55.cf131eb7.js"><link rel="prefetch" href="/assets/js/56.0202deb0.js"><link rel="prefetch" href="/assets/js/57.9e0df991.js"><link rel="prefetch" href="/assets/js/58.64377322.js"><link rel="prefetch" href="/assets/js/59.f8a4b99f.js"><link rel="prefetch" href="/assets/js/60.5a27bedd.js"><link rel="prefetch" href="/assets/js/61.9e5573b6.js"><link rel="prefetch" href="/assets/js/62.5804bee4.js"><link rel="prefetch" href="/assets/js/63.df3be798.js"><link rel="prefetch" href="/assets/js/64.3b2879c5.js"><link rel="prefetch" href="/assets/js/65.64b4c8af.js"><link rel="prefetch" href="/assets/js/66.1ba238bd.js"><link rel="prefetch" href="/assets/js/67.db89278d.js"><link rel="prefetch" href="/assets/js/68.ee39b329.js"><link rel="prefetch" href="/assets/js/69.5456f0f2.js"><link rel="prefetch" href="/assets/js/7.f85f0eba.js"><link rel="prefetch" href="/assets/js/70.aaaf4c0d.js"><link rel="prefetch" href="/assets/js/71.2f29f5d1.js"><link rel="prefetch" href="/assets/js/72.0f367d2a.js"><link rel="prefetch" href="/assets/js/73.7bbdfce7.js"><link rel="prefetch" href="/assets/js/74.354d9873.js"><link rel="prefetch" href="/assets/js/75.ef54202b.js"><link rel="prefetch" href="/assets/js/76.7f051a65.js"><link rel="prefetch" href="/assets/js/77.9070573b.js"><link rel="prefetch" href="/assets/js/78.604ed03b.js"><link rel="prefetch" href="/assets/js/79.2bbfa98b.js"><link rel="prefetch" href="/assets/js/8.a3dc8598.js"><link rel="prefetch" href="/assets/js/80.51f5c9dc.js"><link rel="prefetch" href="/assets/js/81.de12f9a4.js"><link rel="prefetch" href="/assets/js/82.9212da9a.js"><link rel="prefetch" href="/assets/js/83.da9aa600.js"><link rel="prefetch" href="/assets/js/84.6a07a3a3.js"><link rel="prefetch" href="/assets/js/85.cef47f90.js"><link rel="prefetch" href="/assets/js/86.b4d16f50.js"><link rel="prefetch" href="/assets/js/87.0ee31906.js"><link rel="prefetch" href="/assets/js/88.b4aaaaf0.js"><link rel="prefetch" href="/assets/js/89.f1a21e87.js"><link rel="prefetch" href="/assets/js/9.b1a30078.js"><link rel="prefetch" href="/assets/js/90.9201e1e6.js"><link rel="prefetch" href="/assets/js/91.f53d4040.js"><link rel="prefetch" href="/assets/js/92.a7ef970c.js"><link rel="prefetch" href="/assets/js/93.34d3a239.js"><link rel="prefetch" href="/assets/js/94.c71695f2.js"><link rel="prefetch" href="/assets/js/95.3e514df9.js"><link rel="prefetch" href="/assets/js/96.b6a5635d.js"><link rel="prefetch" href="/assets/js/97.1f01c813.js"><link rel="prefetch" href="/assets/js/98.290036ad.js"><link rel="prefetch" href="/assets/js/99.e3471891.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bc45a961.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="刘沙河" class="logo"> <span class="site-name can-hide">刘沙河</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Go" class="dropdown-title"><a href="/go/" class="link-title">Go</a> <span class="title" style="display:none;">Go</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Go语言基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/dfa8c5/" class="nav-link">数据类型</a></li><li class="dropdown-subitem"><a href="/pages/5f1127/" class="nav-link">反射</a></li><li class="dropdown-subitem"><a href="/pages/c49433/" class="nav-link">Go指针</a></li></ul></li><li class="dropdown-item"><h4>Go语言进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/cf7dae/" class="nav-link">go泛型</a></li><li class="dropdown-subitem"><a href="/pages/dedafd/" class="nav-link">go条件编译</a></li><li class="dropdown-subitem"><a href="/pages/efc7ad/" class="nav-link">cgo教程</a></li><li class="dropdown-subitem"><a href="/pages/6bedb1/" class="nav-link">Go协程调度原理及GPM模型</a></li><li class="dropdown-subitem"><a href="/pages/0a62de/" class="nav-link">Go内存管理</a></li><li class="dropdown-subitem"><a href="/pages/241eea/" class="nav-link">Go垃圾回收机制</a></li><li class="dropdown-subitem"><a href="/pages/034686/" class="nav-link">Go语言内存对齐</a></li></ul></li><li class="dropdown-item"><h4>Go语言实现原理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1068be/" class="nav-link">channel 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/99be2b/" class="nav-link">slice 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/d185ed/" class="nav-link">map 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/9ab782/" class="nav-link">sync.Mutex 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/f2d80d/" class="nav-link">乐观锁CAS 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/4f0a6e/" class="nav-link">singlefight 实现原理</a></li></ul></li><li class="dropdown-item"><h4>gin框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/39fbb0/" class="nav-link">gin中间件原理</a></li><li class="dropdown-subitem"><a href="/pages/7e7998/" class="nav-link">gin路由原理</a></li></ul></li><li class="dropdown-item"><h4>gorm</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b1bd04/" class="nav-link">GORM介绍和使用</a></li><li class="dropdown-subitem"><a href="/pages/0f644f/" class="nav-link">GORM_CURD操作指南</a></li></ul></li><li class="dropdown-item"><h4>go测试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/147dd1/" class="nav-link">benchmark基准测试</a></li><li class="dropdown-subitem"><a href="/pages/d45236/" class="nav-link">pprof 性能分析</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/python/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>python进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3b62b2/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Numpy&amp;Pandas</a></li><li class="dropdown-subitem"><a href="/pages/cffbfd/" class="nav-link">celery分布式任务队列</a></li></ul></li><li class="dropdown-item"><h4>Django</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3c6d02/" class="nav-link">Django 常见命令</a></li><li class="dropdown-subitem"><a href="/pages/ac3065/" class="nav-link">middleware中间件</a></li><li class="dropdown-subitem"><a href="/pages/f4f9ce/" class="nav-link">Django缓存系统</a></li><li class="dropdown-subitem"><a href="/pages/96c912/" class="nav-link">Django信号系统</a></li><li class="dropdown-subitem"><a href="/pages/a0cd2a/" class="nav-link">Django REST Framework</a></li></ul></li><li class="dropdown-item"><h4>Flask</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/cbe9ba/" class="nav-link">Flask基础知识总结</a></li><li class="dropdown-subitem"><a href="/pages/184ee5/" class="nav-link">Flask-SQLAlchemy</a></li></ul></li><li class="dropdown-item"><h4>爬虫</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5ef8dd/" class="nav-link">aiohttp</a></li><li class="dropdown-subitem"><a href="/pages/e669a5/" class="nav-link">scrapy框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/508485/" class="nav-link">Mysql存储引擎和索引</a></li><li class="dropdown-subitem"><a href="/pages/a65b61/" class="nav-link">MySQL主从复制</a></li><li class="dropdown-subitem"><a href="/pages/10af64/" class="nav-link">Mysql读写分离</a></li><li class="dropdown-subitem"><a href="/pages/64593f/" class="nav-link">数据库分库分表</a></li><li class="dropdown-subitem"><a href="/pages/bfd481/" class="nav-link">Mysql锁</a></li><li class="dropdown-subitem"><a href="/pages/00c19f/" class="nav-link">Mysql事务和MVCC原理</a></li><li class="dropdown-subitem"><a href="/pages/af218c/" class="nav-link">分库分表带来的读扩散问题</a></li></ul></li><li class="dropdown-item"><h4>Redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5665df/" class="nav-link">redis基础和数据类型</a></li><li class="dropdown-subitem"><a href="/pages/d17810/" class="nav-link">redis主从架构</a></li><li class="dropdown-subitem"><a href="/pages/c1b6e9/" class="nav-link">redis哨兵架构</a></li><li class="dropdown-subitem"><a href="/pages/b05ef8/" class="nav-link">redis集群模式</a></li><li class="dropdown-subitem"><a href="/pages/74ad69/" class="nav-link">如何保证缓存和数据库双写一致</a></li><li class="dropdown-subitem"><a href="/pages/b931f8/" class="nav-link">redis底层数据结构</a></li><li class="dropdown-subitem"><a href="/pages/154654/" class="nav-link">redis分布式锁</a></li></ul></li><li class="dropdown-item"><h4>Elasticsearch</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0fbad4/" class="nav-link">es基本概念</a></li><li class="dropdown-subitem"><a href="/pages/e67888/" class="nav-link">es基础语法</a></li><li class="dropdown-subitem"><a href="/pages/3cb85c/" class="nav-link">es倒排索引</a></li></ul></li><li class="dropdown-item"><h4>etcd</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a376b5/" class="nav-link">Go操作etcd</a></li><li class="dropdown-subitem"><a href="/pages/2f5a88/" class="nav-link">Raft原理</a></li><li class="dropdown-subitem"><a href="/pages/59288f/" class="nav-link">etcd分布式锁</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MQ" class="dropdown-title"><a href="/mq/" class="link-title">MQ</a> <span class="title" style="display:none;">MQ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>kafka</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5a722c/" class="nav-link">消息队列MQ总结</a></li><li class="dropdown-subitem"><a href="/pages/dbfcdf/" class="nav-link">kafka 概述及原理</a></li><li class="dropdown-subitem"><a href="/pages/6868ce/" class="nav-link">kafka 消费问题记录</a></li><li class="dropdown-subitem"><a href="/pages/a531a8/" class="nav-link">零拷贝技术</a></li><li class="dropdown-subitem"><a href="/pages/362fa0/" class="nav-link">kafka分区规范</a></li></ul></li><li class="dropdown-item"><h4>RabbitMQ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d10ce0/" class="nav-link">rabbitMQ基础</a></li><li class="dropdown-subitem"><a href="/pages/6510fb/" class="nav-link">Go操作rabbitmq</a></li></ul></li><li class="dropdown-item"><h4>RocketMQ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/ea2fe2/" class="nav-link">可靠消息队列 rocketMQ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络" class="dropdown-title"><a href="/network/" class="link-title">网络</a> <span class="title" style="display:none;">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Http&amp;Https</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a55b80/" class="nav-link">http&amp;https</a></li><li class="dropdown-subitem"><a href="/pages/c87956/" class="nav-link">TCP和UDP</a></li><li class="dropdown-subitem"><a href="/pages/336ace/" class="nav-link">Ping 原理</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="rpc + grpc" class="dropdown-title"><a href="/rpc/" class="link-title">rpc + grpc</a> <span class="title" style="display:none;">rpc + grpc</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>RPC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d78ab1/" class="nav-link">RPC初识</a></li><li class="dropdown-subitem"><a href="/pages/39b3f2/" class="nav-link">grpc初识和实现</a></li></ul></li><li class="dropdown-item"><h4>gRPC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f456b1/" class="nav-link">grpc 初识</a></li><li class="dropdown-subitem"><a href="/pages/56fede/" class="nav-link">grpc 上下文 metadata</a></li><li class="dropdown-subitem"><a href="/pages/c6fb34/" class="nav-link">grpc 健康检查</a></li><li class="dropdown-subitem"><a href="/pages/b8d063/" class="nav-link">grpc keepalive </a></li><li class="dropdown-subitem"><a href="/pages/830741/" class="nav-link">grpc 命名解析</a></li><li class="dropdown-subitem"><a href="/pages/530a4a/" class="nav-link">grpc 中间件&amp;拦截器</a></li><li class="dropdown-subitem"><a href="/pages/394c7e/" class="nav-link">grpc 负载均衡</a></li><li class="dropdown-subitem"><a href="/pages/650bdb/" class="nav-link">grpc 身份认证</a></li><li class="dropdown-subitem"><a href="/pages/a36ea2/" class="nav-link">grpc 超时重试</a></li><li class="dropdown-subitem"><a href="/pages/8c06ef/" class="nav-link">grpc 链路追踪</a></li><li class="dropdown-subitem"><a href="/pages/90f222/" class="nav-link">grpc-gw将gRPC转RESTfu api</a></li><li class="dropdown-subitem"><a href="/pages/6c7800/" class="nav-link">grpc-gw自定义选项</a></li></ul></li><li class="dropdown-item"><h4>protobuf</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/6d0e1f/" class="nav-link">protobuf 进阶</a></li><li class="dropdown-subitem"><a href="/pages/c67f25/" class="nav-link">protobuf 编码原理</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Docker+k8s" class="dropdown-title"><a href="/container/" class="link-title">Docker+k8s</a> <span class="title" style="display:none;">Docker+k8s</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Docker</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/beebaf/" class="nav-link">Docker基础</a></li><li class="dropdown-subitem"><a href="/pages/878e1e/" class="nav-link">Docker常用命令</a></li><li class="dropdown-subitem"><a href="/pages/4a7961/" class="nav-link">Dockerfile</a></li><li class="dropdown-subitem"><a href="/pages/f2fd44/" class="nav-link">Docker-Compose</a></li><li class="dropdown-subitem"><a href="/pages/4790f4/" class="nav-link">Docker多阶段构建</a></li><li class="dropdown-subitem"><a href="/pages/fc53a6/" class="nav-link">Docker Config 教程</a></li><li class="dropdown-subitem"><a href="/pages/5f8421/" class="nav-link">Docker Swarm 教程</a></li><li class="dropdown-subitem"><a href="/pages/037a8d/" class="nav-link">Docker Stack 教程</a></li><li class="dropdown-subitem"><a href="/pages/c68a8f/" class="nav-link">Docker Buildx 教程</a></li></ul></li><li class="dropdown-item"><h4>k8s</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b305c1/" class="nav-link">k8s 基础概念</a></li><li class="dropdown-subitem"><a href="/pages/27b1f7/" class="nav-link">k8s 集群架构</a></li><li class="dropdown-subitem"><a href="/pages/ca5be0/" class="nav-link">k8s 工作负载</a></li><li class="dropdown-subitem"><a href="/pages/a53d39/" class="nav-link">Pod 网络</a></li><li class="dropdown-subitem"><a href="/pages/a566d2/" class="nav-link">Service 网络</a></li><li class="dropdown-subitem"><a href="/pages/dd652d/" class="nav-link">外部接入网络</a></li><li class="dropdown-subitem"><a href="/pages/75ad55/" class="nav-link">一张图搞懂k8s各种pod</a></li><li class="dropdown-subitem"><a href="/pages/391855/" class="nav-link">k8s 存储抽象</a></li><li class="dropdown-subitem"><a href="/pages/a0c2ed/" class="nav-link">mac快速启动k8s</a></li><li class="dropdown-subitem"><a href="/pages/e721f1/" class="nav-link">自制申威架构k8s-reloader</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microsoft/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>go-kit</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/57b887/" class="nav-link">go-kit初识</a></li><li class="dropdown-subitem"><a href="/pages/35ad82/" class="nav-link">go-kit启动http服务</a></li><li class="dropdown-subitem"><a href="/pages/1e0688/" class="nav-link">go-kit集成gin启动服务</a></li><li class="dropdown-subitem"><a href="/pages/002b84/" class="nav-link">go-kit集成grpc和protobuf</a></li><li class="dropdown-subitem"><a href="/pages/7bbf4d/" class="nav-link">go-kit中间件</a></li><li class="dropdown-subitem"><a href="/pages/cf9680/" class="nav-link">go-kit服务注册发现与负载均衡</a></li><li class="dropdown-subitem"><a href="/pages/1b849d/" class="nav-link">go-kit限流和熔断</a></li><li class="dropdown-subitem"><a href="/pages/a6777b/" class="nav-link">go-kit链路追踪</a></li><li class="dropdown-subitem"><a href="/pages/ca7cde/" class="nav-link">go-kit集成Prometheus</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><a href="/advanced/" class="link-title">数据结构与算法</a> <span class="title" style="display:none;">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d12e59/" class="nav-link">初识设计模式</a></li><li class="dropdown-subitem"><a href="/pages/f8cf01/" class="nav-link">创建型模式</a></li><li class="dropdown-subitem"><a href="/pages/3ed58b/" class="nav-link">结构型模式</a></li><li class="dropdown-subitem"><a href="/pages/ceb2dc/" class="nav-link">行为模式</a></li></ul></li><li class="dropdown-item"><h4>数据结构</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3e7d65/" class="nav-link">时间轮</a></li><li class="dropdown-subitem"><a href="/pages/d280b9/" class="nav-link">堆、双向链表、环形队列</a></li><li class="dropdown-subitem"><a href="/pages/424568/" class="nav-link">队列：优先队列</a></li><li class="dropdown-subitem"><a href="/pages/29dbaf/" class="nav-link">队列：延迟队列</a></li></ul></li><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d31137/" class="nav-link">递归算法</a></li><li class="dropdown-subitem"><a href="/pages/cf0f0b/" class="nav-link">枚举算法</a></li><li class="dropdown-subitem"><a href="/pages/202034/" class="nav-link">动态规划</a></li><li class="dropdown-subitem"><a href="/pages/ebd1da/" class="nav-link">回溯算法</a></li><li class="dropdown-subitem"><a href="/pages/eb3da7/" class="nav-link">分治算法</a></li><li class="dropdown-subitem"><a href="/pages/247606/" class="nav-link">贪心算法</a></li><li class="dropdown-subitem"><a href="/pages/59e30c/" class="nav-link">LRU和LFU</a></li><li class="dropdown-subitem"><a href="/pages/2c8648/" class="nav-link">一致性哈希</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/dengxia.gif"> <div class="blogger-info"><h3></h3> <span>花开半夏,半夏花开</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Go" class="dropdown-title"><a href="/go/" class="link-title">Go</a> <span class="title" style="display:none;">Go</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Go语言基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/dfa8c5/" class="nav-link">数据类型</a></li><li class="dropdown-subitem"><a href="/pages/5f1127/" class="nav-link">反射</a></li><li class="dropdown-subitem"><a href="/pages/c49433/" class="nav-link">Go指针</a></li></ul></li><li class="dropdown-item"><h4>Go语言进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/cf7dae/" class="nav-link">go泛型</a></li><li class="dropdown-subitem"><a href="/pages/dedafd/" class="nav-link">go条件编译</a></li><li class="dropdown-subitem"><a href="/pages/efc7ad/" class="nav-link">cgo教程</a></li><li class="dropdown-subitem"><a href="/pages/6bedb1/" class="nav-link">Go协程调度原理及GPM模型</a></li><li class="dropdown-subitem"><a href="/pages/0a62de/" class="nav-link">Go内存管理</a></li><li class="dropdown-subitem"><a href="/pages/241eea/" class="nav-link">Go垃圾回收机制</a></li><li class="dropdown-subitem"><a href="/pages/034686/" class="nav-link">Go语言内存对齐</a></li></ul></li><li class="dropdown-item"><h4>Go语言实现原理</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/1068be/" class="nav-link">channel 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/99be2b/" class="nav-link">slice 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/d185ed/" class="nav-link">map 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/9ab782/" class="nav-link">sync.Mutex 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/f2d80d/" class="nav-link">乐观锁CAS 实现原理</a></li><li class="dropdown-subitem"><a href="/pages/4f0a6e/" class="nav-link">singlefight 实现原理</a></li></ul></li><li class="dropdown-item"><h4>gin框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/39fbb0/" class="nav-link">gin中间件原理</a></li><li class="dropdown-subitem"><a href="/pages/7e7998/" class="nav-link">gin路由原理</a></li></ul></li><li class="dropdown-item"><h4>gorm</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b1bd04/" class="nav-link">GORM介绍和使用</a></li><li class="dropdown-subitem"><a href="/pages/0f644f/" class="nav-link">GORM_CURD操作指南</a></li></ul></li><li class="dropdown-item"><h4>go测试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/147dd1/" class="nav-link">benchmark基准测试</a></li><li class="dropdown-subitem"><a href="/pages/d45236/" class="nav-link">pprof 性能分析</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/python/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>python进阶</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3b62b2/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Numpy&amp;Pandas</a></li><li class="dropdown-subitem"><a href="/pages/cffbfd/" class="nav-link">celery分布式任务队列</a></li></ul></li><li class="dropdown-item"><h4>Django</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3c6d02/" class="nav-link">Django 常见命令</a></li><li class="dropdown-subitem"><a href="/pages/ac3065/" class="nav-link">middleware中间件</a></li><li class="dropdown-subitem"><a href="/pages/f4f9ce/" class="nav-link">Django缓存系统</a></li><li class="dropdown-subitem"><a href="/pages/96c912/" class="nav-link">Django信号系统</a></li><li class="dropdown-subitem"><a href="/pages/a0cd2a/" class="nav-link">Django REST Framework</a></li></ul></li><li class="dropdown-item"><h4>Flask</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/cbe9ba/" class="nav-link">Flask基础知识总结</a></li><li class="dropdown-subitem"><a href="/pages/184ee5/" class="nav-link">Flask-SQLAlchemy</a></li></ul></li><li class="dropdown-item"><h4>爬虫</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5ef8dd/" class="nav-link">aiohttp</a></li><li class="dropdown-subitem"><a href="/pages/e669a5/" class="nav-link">scrapy框架</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Mysql</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/508485/" class="nav-link">Mysql存储引擎和索引</a></li><li class="dropdown-subitem"><a href="/pages/a65b61/" class="nav-link">MySQL主从复制</a></li><li class="dropdown-subitem"><a href="/pages/10af64/" class="nav-link">Mysql读写分离</a></li><li class="dropdown-subitem"><a href="/pages/64593f/" class="nav-link">数据库分库分表</a></li><li class="dropdown-subitem"><a href="/pages/bfd481/" class="nav-link">Mysql锁</a></li><li class="dropdown-subitem"><a href="/pages/00c19f/" class="nav-link">Mysql事务和MVCC原理</a></li><li class="dropdown-subitem"><a href="/pages/af218c/" class="nav-link">分库分表带来的读扩散问题</a></li></ul></li><li class="dropdown-item"><h4>Redis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5665df/" class="nav-link">redis基础和数据类型</a></li><li class="dropdown-subitem"><a href="/pages/d17810/" class="nav-link">redis主从架构</a></li><li class="dropdown-subitem"><a href="/pages/c1b6e9/" class="nav-link">redis哨兵架构</a></li><li class="dropdown-subitem"><a href="/pages/b05ef8/" class="nav-link">redis集群模式</a></li><li class="dropdown-subitem"><a href="/pages/74ad69/" class="nav-link">如何保证缓存和数据库双写一致</a></li><li class="dropdown-subitem"><a href="/pages/b931f8/" class="nav-link">redis底层数据结构</a></li><li class="dropdown-subitem"><a href="/pages/154654/" class="nav-link">redis分布式锁</a></li></ul></li><li class="dropdown-item"><h4>Elasticsearch</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/0fbad4/" class="nav-link">es基本概念</a></li><li class="dropdown-subitem"><a href="/pages/e67888/" class="nav-link">es基础语法</a></li><li class="dropdown-subitem"><a href="/pages/3cb85c/" class="nav-link">es倒排索引</a></li></ul></li><li class="dropdown-item"><h4>etcd</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a376b5/" class="nav-link">Go操作etcd</a></li><li class="dropdown-subitem"><a href="/pages/2f5a88/" class="nav-link">Raft原理</a></li><li class="dropdown-subitem"><a href="/pages/59288f/" class="nav-link">etcd分布式锁</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="MQ" class="dropdown-title"><a href="/mq/" class="link-title">MQ</a> <span class="title" style="display:none;">MQ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>kafka</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/5a722c/" class="nav-link">消息队列MQ总结</a></li><li class="dropdown-subitem"><a href="/pages/dbfcdf/" class="nav-link">kafka 概述及原理</a></li><li class="dropdown-subitem"><a href="/pages/6868ce/" class="nav-link">kafka 消费问题记录</a></li><li class="dropdown-subitem"><a href="/pages/a531a8/" class="nav-link">零拷贝技术</a></li><li class="dropdown-subitem"><a href="/pages/362fa0/" class="nav-link">kafka分区规范</a></li></ul></li><li class="dropdown-item"><h4>RabbitMQ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d10ce0/" class="nav-link">rabbitMQ基础</a></li><li class="dropdown-subitem"><a href="/pages/6510fb/" class="nav-link">Go操作rabbitmq</a></li></ul></li><li class="dropdown-item"><h4>RocketMQ</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/ea2fe2/" class="nav-link">可靠消息队列 rocketMQ</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络" class="dropdown-title"><a href="/network/" class="link-title">网络</a> <span class="title" style="display:none;">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Http&amp;Https</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a55b80/" class="nav-link">http&amp;https</a></li><li class="dropdown-subitem"><a href="/pages/c87956/" class="nav-link">TCP和UDP</a></li><li class="dropdown-subitem"><a href="/pages/336ace/" class="nav-link">Ping 原理</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="rpc + grpc" class="dropdown-title"><a href="/rpc/" class="link-title">rpc + grpc</a> <span class="title" style="display:none;">rpc + grpc</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>RPC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d78ab1/" class="nav-link">RPC初识</a></li><li class="dropdown-subitem"><a href="/pages/39b3f2/" class="nav-link">grpc初识和实现</a></li></ul></li><li class="dropdown-item"><h4>gRPC</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f456b1/" class="nav-link">grpc 初识</a></li><li class="dropdown-subitem"><a href="/pages/56fede/" class="nav-link">grpc 上下文 metadata</a></li><li class="dropdown-subitem"><a href="/pages/c6fb34/" class="nav-link">grpc 健康检查</a></li><li class="dropdown-subitem"><a href="/pages/b8d063/" class="nav-link">grpc keepalive </a></li><li class="dropdown-subitem"><a href="/pages/830741/" class="nav-link">grpc 命名解析</a></li><li class="dropdown-subitem"><a href="/pages/530a4a/" class="nav-link">grpc 中间件&amp;拦截器</a></li><li class="dropdown-subitem"><a href="/pages/394c7e/" class="nav-link">grpc 负载均衡</a></li><li class="dropdown-subitem"><a href="/pages/650bdb/" class="nav-link">grpc 身份认证</a></li><li class="dropdown-subitem"><a href="/pages/a36ea2/" class="nav-link">grpc 超时重试</a></li><li class="dropdown-subitem"><a href="/pages/8c06ef/" class="nav-link">grpc 链路追踪</a></li><li class="dropdown-subitem"><a href="/pages/90f222/" class="nav-link">grpc-gw将gRPC转RESTfu api</a></li><li class="dropdown-subitem"><a href="/pages/6c7800/" class="nav-link">grpc-gw自定义选项</a></li></ul></li><li class="dropdown-item"><h4>protobuf</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/6d0e1f/" class="nav-link">protobuf 进阶</a></li><li class="dropdown-subitem"><a href="/pages/c67f25/" class="nav-link">protobuf 编码原理</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Docker+k8s" class="dropdown-title"><a href="/container/" class="link-title">Docker+k8s</a> <span class="title" style="display:none;">Docker+k8s</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Docker</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/beebaf/" class="nav-link">Docker基础</a></li><li class="dropdown-subitem"><a href="/pages/878e1e/" class="nav-link">Docker常用命令</a></li><li class="dropdown-subitem"><a href="/pages/4a7961/" class="nav-link">Dockerfile</a></li><li class="dropdown-subitem"><a href="/pages/f2fd44/" class="nav-link">Docker-Compose</a></li><li class="dropdown-subitem"><a href="/pages/4790f4/" class="nav-link">Docker多阶段构建</a></li><li class="dropdown-subitem"><a href="/pages/fc53a6/" class="nav-link">Docker Config 教程</a></li><li class="dropdown-subitem"><a href="/pages/5f8421/" class="nav-link">Docker Swarm 教程</a></li><li class="dropdown-subitem"><a href="/pages/037a8d/" class="nav-link">Docker Stack 教程</a></li><li class="dropdown-subitem"><a href="/pages/c68a8f/" class="nav-link">Docker Buildx 教程</a></li></ul></li><li class="dropdown-item"><h4>k8s</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b305c1/" class="nav-link">k8s 基础概念</a></li><li class="dropdown-subitem"><a href="/pages/27b1f7/" class="nav-link">k8s 集群架构</a></li><li class="dropdown-subitem"><a href="/pages/ca5be0/" class="nav-link">k8s 工作负载</a></li><li class="dropdown-subitem"><a href="/pages/a53d39/" class="nav-link">Pod 网络</a></li><li class="dropdown-subitem"><a href="/pages/a566d2/" class="nav-link">Service 网络</a></li><li class="dropdown-subitem"><a href="/pages/dd652d/" class="nav-link">外部接入网络</a></li><li class="dropdown-subitem"><a href="/pages/75ad55/" class="nav-link">一张图搞懂k8s各种pod</a></li><li class="dropdown-subitem"><a href="/pages/391855/" class="nav-link">k8s 存储抽象</a></li><li class="dropdown-subitem"><a href="/pages/a0c2ed/" class="nav-link">mac快速启动k8s</a></li><li class="dropdown-subitem"><a href="/pages/e721f1/" class="nav-link">自制申威架构k8s-reloader</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><a href="/microsoft/" class="link-title">微服务</a> <span class="title" style="display:none;">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>go-kit</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/57b887/" class="nav-link">go-kit初识</a></li><li class="dropdown-subitem"><a href="/pages/35ad82/" class="nav-link">go-kit启动http服务</a></li><li class="dropdown-subitem"><a href="/pages/1e0688/" class="nav-link">go-kit集成gin启动服务</a></li><li class="dropdown-subitem"><a href="/pages/002b84/" class="nav-link">go-kit集成grpc和protobuf</a></li><li class="dropdown-subitem"><a href="/pages/7bbf4d/" class="nav-link">go-kit中间件</a></li><li class="dropdown-subitem"><a href="/pages/cf9680/" class="nav-link">go-kit服务注册发现与负载均衡</a></li><li class="dropdown-subitem"><a href="/pages/1b849d/" class="nav-link">go-kit限流和熔断</a></li><li class="dropdown-subitem"><a href="/pages/a6777b/" class="nav-link">go-kit链路追踪</a></li><li class="dropdown-subitem"><a href="/pages/ca7cde/" class="nav-link">go-kit集成Prometheus</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据结构与算法" class="dropdown-title"><a href="/advanced/" class="link-title">数据结构与算法</a> <span class="title" style="display:none;">数据结构与算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>设计模式</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d12e59/" class="nav-link">初识设计模式</a></li><li class="dropdown-subitem"><a href="/pages/f8cf01/" class="nav-link">创建型模式</a></li><li class="dropdown-subitem"><a href="/pages/3ed58b/" class="nav-link">结构型模式</a></li><li class="dropdown-subitem"><a href="/pages/ceb2dc/" class="nav-link">行为模式</a></li></ul></li><li class="dropdown-item"><h4>数据结构</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/3e7d65/" class="nav-link">时间轮</a></li><li class="dropdown-subitem"><a href="/pages/d280b9/" class="nav-link">堆、双向链表、环形队列</a></li><li class="dropdown-subitem"><a href="/pages/424568/" class="nav-link">队列：优先队列</a></li><li class="dropdown-subitem"><a href="/pages/29dbaf/" class="nav-link">队列：延迟队列</a></li></ul></li><li class="dropdown-item"><h4>算法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/d31137/" class="nav-link">递归算法</a></li><li class="dropdown-subitem"><a href="/pages/cf0f0b/" class="nav-link">枚举算法</a></li><li class="dropdown-subitem"><a href="/pages/202034/" class="nav-link">动态规划</a></li><li class="dropdown-subitem"><a href="/pages/ebd1da/" class="nav-link">回溯算法</a></li><li class="dropdown-subitem"><a href="/pages/eb3da7/" class="nav-link">分治算法</a></li><li class="dropdown-subitem"><a href="/pages/247606/" class="nav-link">贪心算法</a></li><li class="dropdown-subitem"><a href="/pages/59e30c/" class="nav-link">LRU和LFU</a></li><li class="dropdown-subitem"><a href="/pages/2c8648/" class="nav-link">一致性哈希</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Python进阶</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/87b1d1/" class="sidebar-link">并发,并行同步,异步阻塞,非阻塞</a></li><li><a href="/pages/0b5cee/" class="sidebar-link">数据类型小结(各数据类型常用操作)</a></li><li><a href="/pages/3b62b2/" aria-current="page" class="active sidebar-link">数据分析 NumPy-Pandas</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/3b62b2/#_1-numpy" class="sidebar-link">1. Numpy</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_1-1-创建-ndarray" class="sidebar-link">1.1 创建 ndarray</a></li><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_1-2-ndarray的属性" class="sidebar-link">1.2 ndarray的属性</a></li><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_1-3-ndarray的基本操作" class="sidebar-link">1.3 ndarray的基本操作</a></li><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_1-4-ndarray的聚合操作" class="sidebar-link">1.4 ndarray的聚合操作</a></li><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_1-5-ndarray-的排序" class="sidebar-link">1.5 ndarray 的排序</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/3b62b2/#_2-pandas" class="sidebar-link">2. Pandas</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_2-1-series" class="sidebar-link">2.1 Series</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#_2-2-series的索引" class="sidebar-link">2.2 Series的索引</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#_2-3-series-的属性" class="sidebar-link">2.3 Series 的属性</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#_2-4-series的运算" class="sidebar-link">2.4 Series的运算</a></li><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_2-5-dataframe" class="sidebar-link">2.5 DataFrame</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#_2-6-dataframe的创建" class="sidebar-link">2.6 DataFrame的创建</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#_2-7-dataframe属性" class="sidebar-link">2.7 DataFrame属性</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#_2-8-dataframe索引" class="sidebar-link">2.8 DataFrame索引</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#_2-9-dataframe切片" class="sidebar-link">2.9 DataFrame切片</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#_2-10-dataframe的运算" class="sidebar-link">2.10 DataFrame的运算</a></li><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_2-11-处理丢失数据" class="sidebar-link">2.11 处理丢失数据</a></li><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_2-12-pandas的拼接操作" class="sidebar-link">2.12 pandas的拼接操作</a></li><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#_2-13-pandas-高级数据处理" class="sidebar-link">2.13 pandas 高级数据处理</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#删除重复元素" class="sidebar-link">删除重复元素</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#映射" class="sidebar-link">映射</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#使用聚合操作对数据异常值检测和过滤" class="sidebar-link">使用聚合操作对数据异常值检测和过滤</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#排序" class="sidebar-link">排序</a></li><li class="sidebar-sub-header level3"><a href="/pages/3b62b2/#数据分类处理-分组聚合" class="sidebar-link">数据分类处理(分组聚合)!!!</a></li><li class="sidebar-sub-header level4"><a href="/pages/3b62b2/#高级数据聚合" class="sidebar-link">高级数据聚合</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/3b62b2/#_3-matplotlib" class="sidebar-link">3.matplotlib</a></li></ul></li><li><a href="/pages/20fcd7/" class="sidebar-link">APScheduler定时任务框架</a></li><li><a href="/pages/cffbfd/" class="sidebar-link">celery分布式任务队列</a></li><li><a href="/pages/bf9a76/" class="sidebar-link">Django-celery</a></li><li><a href="/pages/daf73b/" class="sidebar-link">Django-crontab</a></li><li><a href="/pages/f01f8a/" class="sidebar-link">gensim模块中Lsi模型自然语言处理</a></li><li><a href="/pages/6ea030/" class="sidebar-link">SQLalchemy 使用教程</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python并发编程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Django</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Flask</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>爬虫</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/python/#Python" data-v-06225672>Python</a></li><li data-v-06225672><a href="/python/#Python进阶" data-v-06225672>Python进阶</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://bigox.wiki" target="_blank" title="作者" class="beLink" data-v-06225672>bigox</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2021-03-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">数据分析 NumPy-Pandas<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="数据分析"><a href="#数据分析" class="header-anchor">#</a> 数据分析</h1> <ul><li>数据分析：是把隐藏在一些看似杂乱无章的数据背后的信息提炼出来，总结出所研究对象的内在规律</li> <li>数据分析三剑客：Numpy,Pandas,Matplotlib</li></ul> <h2 id="_1-numpy"><a href="#_1-numpy" class="header-anchor">#</a> 1. Numpy</h2> <ul><li>NumPy(Numerical Python) 是 Python 语言的一个扩展程序库，支持大量的维度数组与矩阵运算，此外也针对数组运算提供大量的数学函数库。</li></ul> <h3 id="_1-1-创建-ndarray"><a href="#_1-1-创建-ndarray" class="header-anchor">#</a> 1.1 创建 ndarray</h3> <ol><li><p>使用np.array()创建</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token comment"># 一维数据创建</span>
ret <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 二维数据创建</span>
ret <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p><strong>numpy默认ndarray的所有元素的类型是相同的</strong></p></li> <li><p>如果传进来的列表中包含不同的类型，则统一为同一类型，优先级：str&gt;float&gt;int</p></li> <li><p>使用matplotlib.pyplot获取一个numpy数组，数据来源于一张图片</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pylab <span class="token keyword">as</span> plt
<span class="token comment"># 图片数据转化为数组</span>
img_arr <span class="token operator">=</span> plt<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'./cat.jpg'</span><span class="token punctuation">)</span>
<span class="token comment"># 数组转图片</span>
img_show <span class="token operator">=</span> plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_arr<span class="token punctuation">)</span>
<span class="token comment"># 操作该numpy数据，该操作会同步到图片中</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_arr<span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul></li> <li><p>使用np的routines函数创建</p> <ul><li>np.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None) 等差数列</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>np.arange([start, ]stop, [step, ]dtype=None)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>np.random.randint(low, high=None, size=None, dtype='l') 随机生成</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">#固定随机性#随机因子：系统的时间</span>
arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#size 4行5列</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>np.random.random(size=None)</p> <p>生成0到1的随机数，左闭右开 np.random.seed(3)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 4行5列</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li></ol> <h3 id="_1-2-ndarray的属性"><a href="#_1-2-ndarray的属性" class="header-anchor">#</a> 1.2 ndarray的属性</h3> <ul><li><p>4个必记参数： ndim：维度 shape：形状（各维度的长度） size：总长度；dtype：元素类型</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
arr<span class="token punctuation">.</span>ndim
arr<span class="token punctuation">.</span>shape
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h3 id="_1-3-ndarray的基本操作"><a href="#_1-3-ndarray的基本操作" class="header-anchor">#</a> 1.3 ndarray的基本操作</h3> <ul><li><p>索引</p> <ul><li>一维与列表完全一致 多维时同理</li></ul></li> <li><p>切片</p> <ul><li>一维与列表完全一致 多维时同理</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>  <span class="token comment"># 固定随机性#随机因子：系统的时间</span>
arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">#获取二维数组前两行</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token comment">#获取二维数组前两列</span>
arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token comment"># 获取二维数组前两行和前两列数据</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token comment"># 将数组的行倒序</span>
arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment">#列倒序</span>
arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment">#全部倒序</span>
arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment"># 图片倒置,裁剪</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li> <li><p>变形</p> <ul><li><p>使用arr.reshape()函数，注意参数是一个tuple！</p></li> <li><p>将一维数组变形成多维数组  arr_1.reshape((2,10))</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>arr_1 <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>arr_1<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>arr_1<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token triple-quoted-string string">'''[[ 9 93 86  2 27  4 31  1 13 83  4 91 59 67  7 49 47 65 61 14]]
[[ 9 93 86  2 27  4 31  1 13 83]
 [ 4 91 59 67  7 49 47 65 61 14]]
'''</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>将多维数组变形成一维数组 arr.reshape((20,))</p></li></ul></li> <li><p>级联</p> <ul><li><p>np.concatenate()</p></li> <li><p>一维，二维，多维数组的级联，实际操作中级联多为二维数组</p></li> <li><p>np.concatenate((arr,arr,arr),axis=1)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>arr<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">,</span>  <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">79</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">52</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">98</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>应用,合并参数一致的图片</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>img_3 <span class="token operator">=</span> np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>img_arr<span class="token punctuation">,</span>img_arr<span class="token punctuation">,</span>img_arr<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
img_9 <span class="token operator">=</span> np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>img_3<span class="token punctuation">,</span>img_3<span class="token punctuation">,</span>img_3<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_9<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>级联的参数是列表：一定要加中括号或小括号</p></li> <li><p>维度必须相同</p></li> <li><p>形状相符: 在维度保持一致的前提下，如果进行<strong>横向（axis=1）级联</strong>，必须保证进行级联的数组行数保持一致。如果进行<strong>纵向（axis=0）级联</strong>，必须保证进行级联的数组列数保持一致。</p></li> <li><p>可通过axis参数改变级联的方向</p></li></ul></li></ul> <h3 id="_1-4-ndarray的聚合操作"><a href="#_1-4-ndarray的聚合操作" class="header-anchor">#</a> 1.4 ndarray的聚合操作</h3> <ul><li><p>求和np.sum</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>arr<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 横向（axis=1）级联,纵向（axis=0）级联</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>最大最小值：np.max/ np.min</p></li> <li><p>平均值：np.mean()</p></li> <li><p>其他聚合操作</p></li></ul> <h3 id="_1-5-ndarray-的排序"><a href="#_1-5-ndarray-的排序" class="header-anchor">#</a> 1.5 ndarray 的排序</h3> <p>np.sort()与ndarray.sort()都可以，但有区别：</p> <ul><li>np.sort()不改变输入</li> <li>ndarray.sort()本地处理，不占用空间，但改变输入</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>np.sort(arr,axis=0)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_2-pandas"><a href="#_2-pandas" class="header-anchor">#</a> 2. Pandas</h2> <ul><li><p>清洗数据：（重复值、异常值和空值）</p></li> <li><p>pandas需要导入</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> pandas <span class="token keyword">import</span> Series<span class="token punctuation">,</span>DataFrame
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h3 id="_2-1-series"><a href="#_2-1-series" class="header-anchor">#</a> 2.1 Series</h3> <ul><li><p>Series是一种类似与一维数组的对象，由下面两个部分组成：</p> <ul><li>values：一组数据（ndarray类型）</li> <li>index：相关的数据索引标签</li></ul></li> <li><p>Series的创建:默认索引为0到N-1的整数型索引</p> <ol><li><p>由列表创建</p></li> <li><p>由numpy数组创建</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#使用列表创建Series</span>
Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#显式索引,显示索引不会覆盖隐式索引</span>

<span class="token comment">#使用numpy创建Series</span>
s <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ol></li></ul> <h4 id="_2-2-series的索引"><a href="#_2-2-series的索引" class="header-anchor">#</a> 2.2 Series的索引</h4> <ul><li><p>可以使用中括号取单个索引（此时返回的是元素类型），或者中括号里一个列表取多个索引（此时返回的是一个Series类型）。</p></li> <li><p>显式索引：</p> <ul><li><p>使用index中的元素作为索引值</p></li> <li><p>使用s.loc[]（推荐）:注意，loc中括号中放置的一定是显示索引</p> <p>注意，此时是闭区间</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>s<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>
b    <span class="token number">92</span>
c    <span class="token number">94</span>
dtype<span class="token punctuation">:</span> int32
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul></li> <li><p>隐式索引：</p> <ul><li><p>使用整数作为索引值</p></li> <li><p>使用.iloc[]（推荐）:iloc中的中括号中必须放置隐式索引</p> <p>注意，此时是半开区间</p></li></ul></li> <li><p>切片:隐式索引切片和显示索引切片</p> <ul><li>显示索引切片:index和loc</li></ul></li></ul> <h4 id="_2-3-series-的属性"><a href="#_2-3-series-的属性" class="header-anchor">#</a> 2.3 Series 的属性</h4> <ul><li><p>可以通过shape，size，index,values等得到series的属性</p></li> <li><p>可以使用s.head(),tail()分别查看前n个和后n个值</p></li> <li><p>.unique()对Series元素进行去重</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>s <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s<span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>当索引没有对应的值时，可能出现缺失数据显示NaN（not a number）的情况</p> <ul><li><p>使得两个Series进行相加</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>s1 <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s2 <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> s1 <span class="token operator">+</span> s2
s  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>

a    <span class="token number">2.0</span>
b    <span class="token number">4.0</span>
c    NaN
d    NaN
dtype<span class="token punctuation">:</span> float64
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>可以使用pd.isnull()，pd.notnull()，或s.isnull(),notnull()函数检测缺失数据,返回值是bool类型</p></li></ul></li></ul> <h4 id="_2-4-series的运算"><a href="#_2-4-series的运算" class="header-anchor">#</a> 2.4 Series的运算</h4> <ul><li><code>+ - * /</code>add() sub() mul() div() : s1.add(s2,fill_value=0)</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>s1 <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
s2 <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span>s2<span class="token punctuation">,</span>s1<span class="token punctuation">.</span>add<span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>Series之间的运算</li> <li>在运算中自动对齐不同索引的数据</li> <li>如果索引不对应，则补NaN</li></ul> <h3 id="_2-5-dataframe"><a href="#_2-5-dataframe" class="header-anchor">#</a> 2.5 DataFrame</h3> <ul><li>DataFrame是一个【表格型】的数据结构。DataFrame由按一定顺序排列的多列数据组成。设计初衷是将Series的使用场景从一维拓展到多维。DataFrame既有行索引，也有列索引。
<ul><li>行索引：index</li> <li>列索引：columns</li> <li>值：values</li></ul></li></ul> <h4 id="_2-6-dataframe的创建"><a href="#_2-6-dataframe的创建" class="header-anchor">#</a> 2.6 DataFrame的创建</h4> <ul><li><p>以字典来创建。</p> <ul><li>DataFrame以字典的键作为每一【列】的名称，以字典的值（一个数组）作为每一列。</li> <li>DataFrame会自动加上每一行的索引。</li> <li>用字典创建的DataFrame后，则columns参数将不可被使用。</li> <li>若传入的列与字典的键不匹配，则相应的值为NaN。</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> pandas <span class="token keyword">import</span> Series<span class="token punctuation">,</span> DataFrame
d <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;bigox&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>使用ndarray创建DataFrame</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>
	<span class="token number">0</span>	<span class="token number">1</span>	<span class="token number">2</span>	<span class="token number">3</span>
a	<span class="token number">77</span>	<span class="token number">43</span>	<span class="token number">59</span>	<span class="token number">44</span>
b	<span class="token number">2</span>	<span class="token number">93</span>	<span class="token number">60</span>	<span class="token number">74</span>
c	<span class="token number">63</span>	<span class="token number">6</span>	<span class="token number">39</span>	<span class="token number">66</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h4 id="_2-7-dataframe属性"><a href="#_2-7-dataframe属性" class="header-anchor">#</a> 2.7 DataFrame属性</h4> <ul><li><p>values、columns、index、shape</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 使用字典创建DataFrame：创建一个表格用于展示张三，李四，王五的成绩</span>
dic <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'张三'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'李四'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">66</span><span class="token punctuation">,</span><span class="token number">77</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
df_score <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>dic<span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'语文'</span><span class="token punctuation">,</span><span class="token string">'数学'</span><span class="token punctuation">,</span><span class="token string">'英语'</span><span class="token punctuation">,</span><span class="token string">'理综'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h4 id="_2-8-dataframe索引"><a href="#_2-8-dataframe索引" class="header-anchor">#</a> 2.8 DataFrame索引</h4> <ol><li><p>对列进行索引</p> <ul><li><p>通过类似字典的方式  df['q']</p></li> <li><p>通过属性的方式     df.q</p> <ul><li>将DataFrame的列获取为一个Series。返回的Series拥有原DataFrame相同的索引，且name属性也已经设置好了，就是相应的列名。</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#获取前两列</span>
df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>对行进行索引</p> <ul><li><p>使用.loc[]加index来进行行索引</p></li> <li><p>使用.iloc[]加整数来进行列索引</p> <ul><li>同样返回一个Series，index为原来的columns。</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p>对元素索引的方法</p> <ul><li>使用列索引</li> <li>使用行索引(iloc[3,1] or loc['C','q']) 行索引在前，列索引在后</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">]</span>
df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>![1567644552710](C:\Users\big cattle\AppData\Roaming\Typora\typora-user-images\1567644552710.png)</p></li></ol> <h4 id="_2-9-dataframe切片"><a href="#_2-9-dataframe切片" class="header-anchor">#</a> 2.9 DataFrame切片</h4> <p>【注意】 直接用中括号时：</p> <ul><li>索引表示的是列索引</li> <li>切片表示的是行切片</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#切出前两行</span>
df<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">:</span><span class="token string">'b'</span><span class="token punctuation">]</span>  <span class="token comment"># a,b是行索引</span>
df<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>在loc和iloc中使用切片(切列) ： df.loc['B':'C','丙':'丁']</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">:</span><span class="token string">'B'</span><span class="token punctuation">]</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>
	A	B
a	<span class="token number">61</span>	<span class="token number">87</span>
b	<span class="token number">59</span>	<span class="token number">52</span>
c	<span class="token number">98</span>	<span class="token number">17</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <p>![1567644600049](C:\Users\big cattle\AppData\Roaming\Typora\typora-user-images\1567644600049.png)</p> <h4 id="_2-10-dataframe的运算"><a href="#_2-10-dataframe的运算" class="header-anchor">#</a> 2.10 DataFrame的运算</h4> <ol><li>DataFrame之间的运算</li></ol> <ul><li>同Series一样：
<ul><li>在运算中自动对齐不同索引的数据</li> <li>如果索引不对应，则补NaN</li></ul></li></ul> <ol start="2"><li><p>其他运算</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#删除df中的某一列</span>
df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span><span class="token string">'Unnamed: 0'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment">#将df总的date这一列作为源数据的行索引,将字符串i形式的时间数据转换成时间类型</span>
df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./maotai.csv'</span><span class="token punctuation">,</span>index_col<span class="token operator">=</span><span class="token string">'date'</span><span class="token punctuation">,</span>parse_dates<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">#一旦遇到了一组布尔值，直接将布尔值作为源数据的行索引</span>
df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span> <span class="token operator">-</span> df<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> df<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> <span class="token number">0.03</span><span class="token punctuation">]</span>

<span class="token comment">#将买股票对应的行数据找出</span>
    <span class="token comment">#- 在new_df中将每个月的第一个交易日的行数据取出</span>
    <span class="token comment">#- 将每一行中的open值取出</span>
df_monthly <span class="token operator">=</span> new_df<span class="token punctuation">.</span>resample<span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># M月</span>
df_yearly <span class="token operator">=</span> new_df<span class="token punctuation">.</span>resample<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>last<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token comment"># A年</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ol> <h3 id="_2-11-处理丢失数据"><a href="#_2-11-处理丢失数据" class="header-anchor">#</a> 2.11 处理丢失数据</h3> <ol><li><p>None 是python中自带的,其类型为python object为空,不能参与计算</p></li> <li><p>NaN 是一个<strong>浮点类型</strong>的数据,能参与计算.计算<strong>结果总是NaN</strong></p></li> <li><p>pandas中的None和NaN</p> <ul><li>pandas中会把None等为空的转化为NaN类型</li></ul></li> <li><p>pandas 处理空值操作</p> <ul><li>isnull()  :为空的返回True</li> <li>notnull()  :为空的返回False</li> <li>dropna() :  过滤丢失数据
<ul><li>可以选择过滤的是行还是列（默认为行）:axis中0表示行，1表示的列</li></ul></li> <li>fillna() : 覆盖该空值
<ul><li><code>fillna()</code>:value和method参数
<ul><li>df.fillna(method='bfill',axis=0) # 以后面行的数据填充</li> <li>df.fillna(method='ffill',axis=1) # 以前面列的数据填充</li></ul></li></ul></li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#固定搭配</span>
isnull<span class="token operator">=</span>》<span class="token builtin">any</span>  有空时返回<span class="token boolean">True</span>
notnull<span class="token operator">=</span>》<span class="token builtin">all</span>  全不为空的时候返回<span class="token boolean">True</span>
<span class="token comment">#结论：将df.notnull().all(axis=1)作为源数据的行索引，就可以将空对应的行删除</span>
df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> 

indexs <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">any</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token comment">#获取的是值对应行的行索引</span>
df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span>indexs<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token comment">#dropna() : 可以选择过滤的是行还是列（默认为行）:axis中0表示行，1表示的列</span>
df<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>

df<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>method<span class="token operator">=</span><span class="token string">'bfill'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># 以后面行的数据填充</span>
df<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>method<span class="token operator">=</span><span class="token string">'ffill'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># 以前面列的数据填充</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ol> <h3 id="_2-12-pandas的拼接操作"><a href="#_2-12-pandas的拼接操作" class="header-anchor">#</a> 2.12 pandas的拼接操作</h3> <ul><li>pandas的拼接分为两种：
<ul><li>级联：pd.concat, pd.append</li> <li>合并：pd.merge, pd.join</li></ul></li></ul> <ol><li><p><strong>pd.concat 级联</strong></p> <ul><li><p>pandas使用pd.concat函数，与np.concatenate函数类似，只是多了一些参数：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>objs
axis<span class="token operator">=</span><span class="token number">0</span>
keys
join<span class="token operator">=</span><span class="token string">'outer'</span> <span class="token operator">/</span> <span class="token string">'inner'</span><span class="token punctuation">:</span>表示的是级联的方式，outer会将所有的项进行级联（忽略匹配和不匹配），而inner只会将匹配的项级联到一起，不匹配的不级联
ignore_index<span class="token operator">=</span><span class="token boolean">False</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>匹配级联:简单连接</p></li> <li><p>不匹配级联:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 不匹配指的是级联的维度的索引不一致。例如纵向级联时列索引不一致，横向级联时行索引不一致</span>
有<span class="token number">2</span>种连接方式：
	外连接：补NaN（默认模式）
	内连接：只连接匹配的项
    
df1 <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
df2 <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span>df1<span class="token punctuation">,</span>df1<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># 匹配级联    </span>
pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span>df1<span class="token punctuation">,</span>df2<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>join<span class="token operator">=</span><span class="token string">'inner'</span><span class="token punctuation">)</span>  <span class="token comment"># 不匹配级联 </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul></li> <li><p><strong>pd.merge()合并</strong></p></li></ol> <ul><li><p>merge与concat的区别在于，merge需要<strong>依据某一共同的列来进行合并</strong></p> <p>使用pd.merge()合并时，会自动根据两者相同column名称的那一列，作为key来进行合并。</p> <p>注意每一列元素的顺序不要求一致</p></li> <li><p>参数：</p> <ul><li>how：out取并集 inner取交集</li> <li>on：当有多列相同的时候，可以使用on来指定使用那一列进行合并，on的值为一个列表</li></ul></li> <li><p><strong>一对一合并</strong></p> <ul><li>column名称以及其元素都相同的列进行合并,不要求子元素顺序相同</li></ul></li> <li><p><strong>多对一合并</strong></p> <ul><li>多对一合并时会自动匹配的项,</li></ul> <p>![1567669420459](C:\Users\big cattle\AppData\Roaming\Typora\typora-user-images\1567669420459.png)</p></li> <li><p><strong>多对多合并</strong></p> <ul><li><p>内合并(不同的项丢弃,只保留两者都有的key（默认模式）)</p></li> <li><p>外连接(不同的项填充NaN,外合并 how='outer'：补NaN)</p></li> <li><p>左连接(保证左边Dataframe的数据完整性)</p></li> <li><p>右连接(保证右边Dataframe的数据完整性)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>merge<span class="token punctuation">(</span>df1<span class="token punctuation">,</span>df2<span class="token punctuation">,</span>how<span class="token operator">=</span><span class="token string">&quot;inner&quot;</span><span class="token punctuation">,</span>on<span class="token operator">=</span><span class="token string">&quot;group&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>key的规范化</p> <ul><li><p>当列冲突时，即有多个列名称相同时，需要使用on=来指定哪一个列作为key，配合suffixes指定冲突列名</p></li> <li><p>当两张表没有可进行连接的列时，可使用left_on和right_on手动指定merge中左右两边的哪一列列作为连接的列</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df1 <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'employee'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'Bobs'</span><span class="token punctuation">,</span><span class="token string">'Linda'</span><span class="token punctuation">,</span><span class="token string">'Bill'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string">'group'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'Accounting'</span><span class="token punctuation">,</span><span class="token string">'Product'</span><span class="token punctuation">,</span><span class="token string">'Marketing'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token string">'hire_date'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">1998</span><span class="token punctuation">,</span><span class="token number">2017</span><span class="token punctuation">,</span><span class="token number">2018</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

df5 <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'Lisa'</span><span class="token punctuation">,</span><span class="token string">'Bobs'</span><span class="token punctuation">,</span><span class="token string">'Bill'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string">'hire_dates'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">1998</span><span class="token punctuation">,</span><span class="token number">2016</span><span class="token punctuation">,</span><span class="token number">2007</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>df1<span class="token punctuation">,</span>df5<span class="token punctuation">,</span>left_on<span class="token operator">=</span><span class="token string">'employee'</span><span class="token punctuation">,</span>right_on<span class="token operator">=</span><span class="token string">'name'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ul></li></ul> <h3 id="_2-13-pandas-高级数据处理"><a href="#_2-13-pandas-高级数据处理" class="header-anchor">#</a> 2.13 pandas 高级数据处理</h3> <ol><li><h4 id="删除重复元素"><a href="#删除重复元素" class="header-anchor">#</a> 删除重复元素</h4> <ul><li><p>duplicated() 函数检测重复的行,返回元素为布尔类型的Series对象，每个元素对应一行，如果该行不是第一次出现，则元素为True</p> <ul><li>keep 参数,指定保留的数据
<ul><li>first 保留第一行数据</li> <li>last 保留最后一行数据</li> <li>False 不保留重复数据</li></ul></li></ul></li> <li><p>drop_duplicates() 函数删除重复的行</p> <ul><li>drop_duplicates(keep='first/last'/False)</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>drop_duplicates<span class="token punctuation">(</span>keep<span class="token operator">=</span><span class="token string">'first'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><h4 id="映射"><a href="#映射" class="header-anchor">#</a> 映射</h4></li></ol> <ul><li><p><strong>replace() 函数</strong>:替换元素,使用replace()函数，对values进行映射操作</p></li> <li><p>DataFrame替换操作</p> <ul><li><p>单值替换</p> <ul><li>普通替换： 替换所有符合要求的元素:to_replace=15,value='e'</li> <li>按列指定单值替换： to_replace={<strong>列标签</strong>：替换值} value='value'</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token string">'five'</span><span class="token punctuation">)</span>  <span class="token comment"># 把值为5的元素值替换为five</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>多值替换</p> <ul><li>列表替换: to_replace=[] value=[]</li> <li>字典替换（推荐） to_replace={to_replace:value,to_replace:value}</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">88</span><span class="token punctuation">:</span><span class="token string">'8888'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment"># 替换88为 8888</span>
df<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token string">'six'</span><span class="token punctuation">)</span> <span class="token comment"># 替索引为3的列中的6 为six</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li> <li><p><strong>map()函数</strong>：新建一列 ， map函数并不是df的方法，而<strong>是series的方法</strong></p></li> <li><p>map当做一种运算工具，至于执行何种运算，是由map函数的参数决定的（参数：lambda，函数）</p> <ul><li><p>map() 可以映射新一列数据</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>dic <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'name'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'周杰伦'</span><span class="token punctuation">,</span><span class="token string">'张三'</span><span class="token punctuation">,</span><span class="token string">'周杰伦'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">'salary'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">15000</span><span class="token punctuation">,</span><span class="token number">20000</span><span class="token punctuation">,</span><span class="token number">15000</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>dic<span class="token punctuation">)</span>
<span class="token comment">#映射关系表（字典）</span>
dic_map <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'周杰伦'</span><span class="token punctuation">:</span><span class="token string">'jay'</span><span class="token punctuation">,</span>
    <span class="token string">'张三'</span><span class="token punctuation">:</span><span class="token string">'tom'</span>
<span class="token punctuation">}</span>
df<span class="token punctuation">[</span><span class="token string">'e_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>dic_map<span class="token punctuation">)</span> <span class="token comment"># e_name 是新列的名称,用name列做映射关系</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>map() 中可以使用lambd表达式</p></li> <li><p>map() 中可以使用方法，可以是自定义的方法</p> <p>eg:map({to_replace:value})</p></li> <li><p><strong>注意</strong> map()中不能使用sum之类的函数，for循环</p></li> <li><p>新增一列：给df中，添加一列，该列的值为中文名对应的英文名</p> <p>![1567673366339](C:\Users\big cattle\AppData\Roaming\Typora\typora-user-images\1567673366339.png)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 注意：</span>
并不是任何形式的函数都可以作为<span class="token builtin">map</span>的参数。只有当一个函数具有一个参数且有返回值，那么该函数才可以作为<span class="token builtin">map</span>的参数。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul></li></ul> <ol start="3"><li><h4 id="使用聚合操作对数据异常值检测和过滤"><a href="#使用聚合操作对数据异常值检测和过滤" class="header-anchor">#</a> 使用聚合操作对数据异常值检测和过滤</h4> <ul><li><p>使用df.std()函数可以求得DataFrame对象每一列的标准差</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 创建一个1000行3列的df 范围（0-1），求其每一列的标准差</span>
df<span class="token operator">=</span>df<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 对df应用筛选条件,去除标准差太大的数据:假设过滤条件为 C列数据大于两倍的C列标准差</span>
twice_std <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span>
<span class="token comment"># df.loc[df['C'] &gt; twice_std] 找到异常数据</span>
drop_indexs <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'C'</span><span class="token punctuation">]</span> <span class="token operator">&gt;</span> twice_std<span class="token punctuation">]</span><span class="token punctuation">.</span>index  <span class="token comment"># 找到异常数据的行索引</span>
df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span>drop_indexs<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment"># 删除异常数据行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul></li> <li><h4 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h4> <ul><li><p>.take() 函数排序</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token operator">-</span> take<span class="token punctuation">(</span><span class="token punctuation">)</span>函数接受一个索引列表，用数字表示<span class="token punctuation">,</span>使得df根据列表中索引的顺序进行排序
<span class="token operator">-</span> df<span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><p>可以借助  np.random.permutation()  函数随机排序</p></li> <li><p>np.random.permutation(x)可以生成x个从0-(x-1)的随机数列</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>permutation<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># 生成一个0-5随机顺序的数组</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>
array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">#df.take(indices=[1,2,0],axis=1).take(indices=np.random.permutation(1000),axis=0)[0:10]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ul></li> <li><p>应用:当DataFrame规模足够大时，直接使用np.random.permutation(x)函数，就配合take()函数实现随机抽样</p></li></ul></li> <li><h3 id="数据分类处理-分组聚合"><a href="#数据分类处理-分组聚合" class="header-anchor">#</a> 数据分类处理(分组聚合)!!!</h3> <ul><li><p>数据分类处理：</p> <ul><li>分组：先把数据分为几组</li> <li>用函数处理：为不同组的数据应用不同的函数以转换数据</li> <li>合并：把不同组得到的结果合并起来</li></ul></li> <li><p>数据分类处理的核心：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code> <span class="token operator">-</span> groupby<span class="token punctuation">(</span><span class="token punctuation">)</span> 函数
 <span class="token operator">-</span> groups属性查看分组情况
 <span class="token operator">-</span> eg<span class="token punctuation">:</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ol> <ul><li><p>groupby() 分组函数</p> <ul><li>使用groupby实现分组</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">'item'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'Apple'</span><span class="token punctuation">,</span><span class="token string">'Banana'</span><span class="token punctuation">,</span><span class="token string">'Orange'</span><span class="token punctuation">,</span><span class="token string">'Banana'</span><span class="token punctuation">,</span><span class="token string">'Orange'</span><span class="token punctuation">,</span><span class="token string">'Apple'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string">'price'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2.5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token string">'color'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span><span class="token string">'yellow'</span><span class="token punctuation">,</span><span class="token string">'yellow'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token string">'weight'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">44</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>pandas<span class="token punctuation">.</span>core<span class="token punctuation">.</span>groupby<span class="token punctuation">.</span>DataFrameGroupBy <span class="token builtin">object</span> at <span class="token number">0x00000157CA0B1710</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>使用groups查看分组情况</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 该函数可以进行数据的分组，但是不显示分组情况</span>
df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>分组后的聚合操作：分组后的成员中可以被进行运算的值会进行运算，不能被运算的值不进行运算</li></ul> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment">#给df创建一个新列，内容为各个水果的平均价格</span>
mean_price_s <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
dic <span class="token operator">=</span> mean_price_s<span class="token punctuation">.</span>to_dict<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 转为字典</span>
df<span class="token punctuation">[</span><span class="token string">'item'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span> <span class="token comment"># 创建映射关系</span>
df<span class="token punctuation">[</span><span class="token string">'mean_price'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'item'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span>  <span class="token comment"># 创建新的列mean_price</span>
<span class="token comment">#按颜色查看各种颜色的水果的平均价格</span>
color_mean_price_s <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'color'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>
dic <span class="token operator">=</span> color_mean_price_s<span class="token punctuation">.</span>to_dict<span class="token punctuation">(</span><span class="token punctuation">)</span>
df<span class="token punctuation">[</span><span class="token string">'mean_price_color'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul> <ol start="6"><li><h4 id="高级数据聚合"><a href="#高级数据聚合" class="header-anchor">#</a> 高级数据聚合</h4> <ul><li>使用groupby分组后，也可以<strong>使用transform和apply提供自定义函数实现更多的运算</strong> <ul><li>df.groupby('item')['price'].sum() &lt;==&gt; df.groupby('item')['price'].apply(sum)</li> <li>transform和apply都会进行运算，在transform或者apply中传入函数即可</li> <li>transform和apply也可以传入一个lambda表达式</li></ul></li></ul> <p>![1567676103750](C:\Users\big cattle\AppData\Roaming\Typora\typora-user-images\1567676103750.png)</p></li></ol> <h2 id="_3-matplotlib"><a href="#_3-matplotlib" class="header-anchor">#</a> 3.matplotlib</h2> <ul><li><p>静态图形处理</p></li> <li><p>数据分析三剑客</p> <ul><li>Numpy : 主要为了给pandas提供数据源</li> <li>pandas :  更重要的数据结构</li> <li>matplotlib : 静态图形处理</li></ul></li></ul> <p><strong>海滨城市温度分析案例</strong></p> <ol><li><p>导包</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 导包</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">from</span> pandas <span class="token keyword">import</span> Series<span class="token punctuation">,</span>DataFrame

<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

<span class="token keyword">from</span> pylab <span class="token keyword">import</span> mpl
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'font.sans-serif'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'FangSong'</span><span class="token punctuation">]</span> <span class="token comment"># 指定默认字体</span>
mpl<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'axes.unicode_minus'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">False</span> <span class="token comment"># 解决保存图像是负号'-'显示为方块的问题</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>导入数据(各个海滨城的数据)</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 导入数据(各个海滨城市数据)</span>

ferrara1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./ferrara_150715.csv'</span><span class="token punctuation">)</span>
ferrara2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./ferrara_250715.csv'</span><span class="token punctuation">)</span>
ferrara3 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./ferrara_270615.csv'</span><span class="token punctuation">)</span>
ferrara<span class="token operator">=</span>pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>ferrara1<span class="token punctuation">,</span>ferrara1<span class="token punctuation">,</span>ferrara1<span class="token punctuation">]</span><span class="token punctuation">,</span>ignore_index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

torino1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./torino_150715.csv'</span><span class="token punctuation">)</span>
torino2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./torino_250715.csv'</span><span class="token punctuation">)</span>
torino3 <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./torino_270615.csv'</span><span class="token punctuation">)</span>
torino <span class="token operator">=</span> pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">[</span>torino1<span class="token punctuation">,</span>torino2<span class="token punctuation">,</span>torino3<span class="token punctuation">]</span><span class="token punctuation">,</span>ignore_index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> 
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><p>去除没用的列</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>city_list <span class="token operator">=</span> <span class="token punctuation">[</span>faenza<span class="token punctuation">,</span>cesena<span class="token punctuation">,</span>piacenza<span class="token punctuation">,</span>bologna<span class="token punctuation">,</span>asti<span class="token punctuation">,</span>ravenna<span class="token punctuation">,</span>milano<span class="token punctuation">,</span>mantova<span class="token punctuation">,</span>torino<span class="token punctuation">,</span>ferrara<span class="token punctuation">]</span>
<span class="token keyword">for</span> city <span class="token keyword">in</span> city_list<span class="token punctuation">:</span>
    city<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span><span class="token string">'Unnamed: 0'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><img src="C:\Users\big cattle\AppData\Roaming\Typora\typora-user-images\1567756766535.png" alt="1567756766535" style="zoom:50%;"></li> <li><p>构造数据,显示最高温度与离海远近的关系</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>max_temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>   
dist_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> city <span class="token keyword">in</span> city_list<span class="token punctuation">:</span>
    temp <span class="token operator">=</span> city<span class="token punctuation">[</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    max_temp<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
    dist <span class="token operator">=</span> city<span class="token punctuation">[</span><span class="token string">'dist'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    dist_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>dist<span class="token punctuation">)</span>
    
plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>dist_list<span class="token punctuation">,</span>max_temp<span class="token punctuation">)</span>   <span class="token comment"># 传入两个列表</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;距离&quot;</span><span class="token punctuation">)</span>  <span class="token comment"># x</span>
plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">&quot;最高温度&quot;</span><span class="token punctuation">)</span> <span class="token comment"># y</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">&quot;最高温度和距离之间的关系&quot;</span><span class="token punctuation">)</span> <span class="token comment"># 标题</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>![1567756889916](C:\Users\big cattle\AppData\Roaming\Typora\typora-user-images\1567756889916.png)</p></li></ol></div></div>  <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=Python" title="标签">#Python</a><a href="/tags/?tag=null" title="标签">#</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/04/16, 18:35:33</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/0b5cee/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">数据类型小结(各数据类型常用操作)</div></a> <a href="/pages/20fcd7/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">APScheduler定时任务框架</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
          ←
          <a href="/pages/0b5cee/" class="prev">数据类型小结(各数据类型常用操作)</a></span> <span class="next"><a href="/pages/20fcd7/">APScheduler定时任务框架</a>→
        </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/523574/"><div>
              go与http代理
              <!----></div></a> <span class="date">05-24</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/e721f1/"><div>
              自制申威架构k8s-reloader
              <!----></div></a> <span class="date">12-06</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/c68a8f/"><div>
              Docker Buildx 教程
              <!----></div></a> <span class="date">12-01</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:big_ox@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/hellolib" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
    Theme by
    <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
      | Copyright © 2020-2024
      <span>小刘扎扎 | <a href="https://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
            跟随系统
          </li><li class="iconfont icon-rijianmoshi">
            浅色模式
          </li><li class="iconfont icon-yejianmoshi">
            深色模式
          </li><li class="iconfont icon-yuedu">
            阅读模式
          </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div><div></div></div></div>
    <script src="/assets/js/app.a4b4c4d6.js" defer></script><script src="/assets/js/2.175b47d8.js" defer></script><script src="/assets/js/126.78068f21.js" defer></script><script src="/assets/js/6.a6a5cbc6.js" defer></script>
  </body>
</html>
