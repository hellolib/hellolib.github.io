(window.webpackJsonp=window.webpackJsonp||[]).push([[200],{520:function(s,n,a){"use strict";a.r(n);var t=a(3),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("blockquote",[n("p",[s._v("version: es7+")])]),s._v(" "),n("h2",{attrs:{id:"ik分词器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ik分词器"}},[s._v("#")]),s._v(" IK分词器")]),s._v(" "),n("blockquote",[n("ul",[n("li",[n("p",[s._v("类似python中的"),n("code",[s._v("jieba")]),s._v("分词")])]),s._v(" "),n("li",[n("p",[s._v("两种分词模式")]),s._v(" "),n("ol",[n("li",[s._v("ik_smart")]),s._v(" "),n("li",[s._v("ik_max_word")])])])])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("不同分词效果")]),s._v(" "),n("ol",[n("li",[n("p",[n("strong",[s._v("ik_smart")]),s._v(": 为最少切分, 就是尽可能少的切分;")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("GET _analyze\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"analyzer"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ik_smart"')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"text"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"go语言开发者"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\ngo 语言  开发者 \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("ik_max_word")]),s._v(": 为最细粒度划分, 穷尽词库的可能;")]),s._v(" "),n("div",{staticClass:"language-sh line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[s._v("GET _analyze\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"analyzer"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ik_max_word"')]),s._v(",\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"text"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"go语言开发者"')]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\ngo 语言 开发 开发者 者\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("和"),n("code",[s._v("jieba")]),s._v("分词可以配置用户字典: 配置文件路径在ik/config/IKAnalyzer.cfg.xml  * 可以新建一个kuang.dic文件, 然后在IKAnalyzer.cfg.xml中添加配置    - "),n("code",[s._v('<entry key="ext_dict">kuang.dic</entry>')]),s._v("    - "),n("code",[s._v('<entry key="ext_stopwords">kuang_stop.dic</entry>')])])])]),s._v(" "),n("h2",{attrs:{id:"数据类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[s._v("#")]),s._v(" 数据类型")]),s._v(" "),n("ul",[n("li",[s._v("字符串类型: text和keyword")]),s._v(" "),n("li",[s._v("数值类型: long, integer, short, byte, double, float, half float, scaled float")]),s._v(" "),n("li",[s._v("日期类型: date")]),s._v(" "),n("li",[s._v("te布尔值类型: boolean")]),s._v(" "),n("li",[s._v("二进制类型: binary")])]),s._v(" "),n("blockquote",[n("p",[s._v("指定字段类型: 添加一个库并添加字段规则(类似mysql建表)")])]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("PUT "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("test2\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n  "mappings"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "properties"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n      "name"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "text"\n      '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n      "age"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "long"\n      '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n      "birthday"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "date"\n      '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回结果发现acknowledged是true, 说明规则创建成功")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h2",{attrs:{id:"映射"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#映射"}},[s._v("#")]),s._v(" 映射")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("映射类似与MySQL中的表设计，包括约束指定字段的类型(text、keyword等)。text类型的字段支持分词，keyword类型的字段不支持分词、必须完全匹配。")])]),s._v(" "),n("li",[n("p",[s._v("keyword类型的字段才支持聚合查询(例如：分组)")])]),s._v(" "),n("li",[n("p",[s._v("通过type指定字段类型，通过index指定该字段是否可以被索引查询，当index为false时，将无法通过该字段进行查询。")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("GET "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("user"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_mapping\n\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "properties"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "name"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "text"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n            "index"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" true\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n        "sex"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "text"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n            "index"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" true\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n        "tel"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "text"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n            "index"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" true\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n        "province"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"keyword"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n            "index"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"true"\n        '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("                \n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"_1-创建mapping"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建mapping"}},[s._v("#")]),s._v(" 1. 创建mapping")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("方法1")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("PUT index\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n  "mappings"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "properties"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v(' \n      "foo"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "keyword"\n      '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("方法2")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("PUT index"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v('_mappings\n  "properties"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v(' \n    "bar"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n      "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "text"\n    '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"_2-查询mapping"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-查询mapping"}},[s._v("#")]),s._v(" 2. 查询mapping")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("GET index"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_mappings\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"分片"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分片"}},[s._v("#")]),s._v(" 分片")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("分片类似MySQL中的分表，创建索引时，默认3个分片，这个分片数量是可以修改的。")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("PUT 索引名"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_settings\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "number_of_replicas"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"基础操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础操作"}},[s._v("#")]),s._v(" 基础操作")]),s._v(" "),n("h3",{attrs:{id:"_1-索引操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-索引操作"}},[s._v("#")]),s._v(" 1. 索引操作")]),s._v(" "),n("ul",[n("li",[s._v("创建索引")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("PUT  url/索引名\n\n例：url/shopping\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[s._v("查看索引信息")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("GET  url/索引名\n\n例：url/shopping\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[s._v("查看全部索引")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("GET  url/_cat/indices?v\n\n例：url/_cat/indices?v\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ul",[n("li",[s._v("删除索引")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("DELETE url/索引名\n \n例：url/shopping\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"_2-文档操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-文档操作"}},[s._v("#")]),s._v(" 2. 文档操作")]),s._v(" "),n("h4",{attrs:{id:"_2-1-创建文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-创建文档"}},[s._v("#")]),s._v(" 2.1 创建文档")]),s._v(" "),n("ul",[n("li",[n("p",[n("strong",[s._v("创建文档(指定文档id)")])]),s._v(" "),n("blockquote",[n("p",[s._v("PUT: 创建文档(指定文档id), localhost:9200/索引名称/类型名称/文档ID")])]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("PUT "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("test1"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("type1"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n  "name"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "狂神说"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n  "age"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("创建文档(随机文档id)")])]),s._v(" "),n("blockquote",[n("p",[s._v("POST: 创建文档(随机文档id), localhost:9200/索引名称/类型名称")])]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("POST "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("test1"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("type1"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n  "name"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "狂神说"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n  "age"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])])])]),s._v(" "),n("h4",{attrs:{id:"_2-3-查询文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-查询文档"}},[s._v("#")]),s._v(" 2.3 查询文档")]),s._v(" "),n("ul",[n("li",[n("p",[n("strong",[s._v("根据id查询")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("GET 索引名/_doc/文档id\n\n例： shopping/_doc/1055\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("查询全部")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("GET 索引名/_search\n \n例：shopping/_search\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("strong",[s._v("查询全部")])]),s._v(" "),n("blockquote",[n("p",[s._v("将参数放在请求体里")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("GET 索引名/_search\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"query"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n        "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"match_all"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n        \t"),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xxx"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 条件查询")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])])]),s._v(" "),n("h4",{attrs:{id:"_2-4-更新文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-更新文档"}},[s._v("#")]),s._v(" 2.4 更新文档")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("全量更新")]),s._v(" "),n("blockquote",[n("p",[s._v("（相当于先删除，后创建，只是id没变）")])]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("POST/PUT 索引名/_doc/id\n\n参数放请求体 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("部分更新：")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("POST 索引名/_update/id\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"doc"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("参数"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n例：\nPOST  /shopping/_update/1056\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"doc"')]),s._v(":"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n       "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"title"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"华为手机"')]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])])])]),s._v(" "),n("h4",{attrs:{id:"_2-5-删除文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-删除文档"}},[s._v("#")]),s._v(" 2.5 删除文档")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("DELETE 索引名/_doc/id \n\n例： shopping/_doc/1056\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"_3-条件查询-分页"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-条件查询-分页"}},[s._v("#")]),s._v(" 3. 条件查询 + 分页")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("条件查询")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("GET 索引名"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("?")]),s._v("q"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("=")]),s._v("key"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v("value\n \n例：shopping"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("?")]),s._v("q"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("=")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v("华为\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])])]),s._v(" "),n("li",[n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("GET 索引名"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v(' \n        "match_all"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v(' \n        \t"name"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"xxx" '),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 条件查询")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v(" \n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("分页")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("GET 索引名"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n \n参数：\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "match_all"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "from"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "size"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n \nfrom：表示第几条记录\nsize：表示每页多少记录\n \nfrom"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("页码"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("*")]),s._v("size\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"_4-指定要查询的列"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-指定要查询的列"}},[s._v("#")]),s._v(" 4. 指定要查询的列")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("GET "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("索引名"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n \n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "match_all"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "from"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "size"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "_source"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v('"title"'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 通过 _source 指定只查询 title 字段")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"_5-排序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-排序"}},[s._v("#")]),s._v(" 5. 排序")]),s._v(" "),n("blockquote",[n("p",[s._v("注意：如果排序时使用了分页查询，则是先排序，后分页。")])]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("GET "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("索引名"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n \n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "match_all"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "from"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "size"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "_source"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v('"title"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('"price"'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "sort"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "price"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "order"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"asc"\n        '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sort表示要对查询结果进行排序")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# price表示要排序的字段")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# order指定排序方式，升序还是降序")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("h3",{attrs:{id:"_6-多条件查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-多条件查询"}},[s._v("#")]),s._v(" 6. 多条件查询")]),s._v(" "),n("blockquote",[n("p",[s._v("must (and)   ,    should (or)")])]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("GET 索引名"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n \n例： 查询category为华为的所有文档 must理解为：并且、同时成立\nGET shopping"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "bool"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "must"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "match"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                    "category"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"华为"\n                '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("    \n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n \n例：查询category为华为并且price为"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3888")]),s._v("的文档\nGET shopping"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "bool"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "must"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "match"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                    "category"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"华为"\n                '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "match"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                    "price"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"'),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3888")]),s._v('"\n                '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("              \n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n \n \n例：查询category为华为或OPPO的文档"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v("并按price排序 should可以理解为：或\nGET shopping"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "bool"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "should"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "match"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                    "category"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"华为"\n                '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "match"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                    "category"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"OPPO"\n                '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "sort"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "price"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "order"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"asc"\n        '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("  \n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n \n \n例：查询 查询category为华为或小米或OPPO的手机，并且价格大于"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("，此处使用filter，gt表示大于，lt表示小于。\nGET shopping"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "bool"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "should"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "match"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                    "category"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"华为"\n                '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "match"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                    "category"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"小米"\n                '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "match"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                    "category"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"OPPO"\n                '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n              "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("                          \n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n            "filter"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "range"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                    "price"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                        "gt"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("\n                    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br"),n("span",{staticClass:"line-number"},[s._v("100")]),n("br")])]),n("h3",{attrs:{id:"_7-match、match-phrase"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-match、match-phrase"}},[s._v("#")]),s._v(" 7. match、match_phrase")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("match：分词搜索，会把查询关键词先进行分词，然后进行搜索")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("例：下面的查询会把category含有小或含有华的都查出来\nGET "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("shoppting"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "match"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "category"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"小华"\n        '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("match_phrase：精确查询（完全匹配）")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[s._v("例：下面的查询指挥查询category为小米的文档\nGET "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("shoppting"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "match_phrase"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "category"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"小米"\n        '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"_8-聚合查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-聚合查询"}},[s._v("#")]),s._v(" 8. 聚合查询")]),s._v(" "),n("blockquote",[n("p",[n("strong",[s._v("aggregations")]),s._v("：聚合")]),s._v(" "),n("p",[n("strong",[s._v("significant")]),s._v("：重要")])]),s._v(" "),n("h4",{attrs:{id:"_8-1-分组查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-分组查询"}},[s._v("#")]),s._v(" 8.1 分组查询")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 按price字段进行分组")]),s._v("\nGET "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("shopping"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "aggs"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "category_group"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "terms"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "field"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "price"\n            '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认会一并将所有文档信息也查出来，如果不需要查询文档信息，可以指定size为0")]),s._v("\nGET "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("shopping"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "aggs"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "category_group"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "terms"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "field"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "price"\n            '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "size"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("h4",{attrs:{id:"_8-2-求平均数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-求平均数"}},[s._v("#")]),s._v(" 8.2 求平均数")]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("#")]),s._v("查询所有文档price的平均值\nGET "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("shopping"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "aggs"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "category_avg"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "avg"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "field"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "price"\n            '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token constant"}},[s._v("#")]),s._v("不查询文档详细信息\nGET "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("shopping"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_search\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n    "aggs"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "category_avg"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n            "avg"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n                "field"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "price"\n            '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n    "size"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("h3",{attrs:{id:"_9-索引模板"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-索引模板"}},[s._v("#")]),s._v(" 9. 索引模板")]),s._v(" "),n("h4",{attrs:{id:"_9-1-查看全部索引模板"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-查看全部索引模板"}},[s._v("#")]),s._v(" 9.1 查看全部索引模板")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("ip/_template\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"_9-2-查看某个索引模板的内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-查看某个索引模板的内容"}},[s._v("#")]),s._v(" 9.2 查看某个索引模板的内容")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("ip/_template/索引模板名称*\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"_9-3-创建索引模板"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-创建索引模板"}},[s._v("#")]),s._v(" 9.3 创建索引模板")]),s._v(" "),n("blockquote",[n("p",[s._v("注意！！！es7以后，一个索引不再支持多个数据类型，只有一个默认的_doc。")])]),s._v(" "),n("div",{staticClass:"language-apl line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-apl"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建一个名为mytemplate的索引模板，当创建名为mysqlaudit-开头的索引时生效。")]),s._v("\n\nPUT "),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("_template"),n("span",{pre:!0,attrs:{class:"token monadic-operator operator"}},[s._v("/")]),s._v("mytemplate\n\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n"order"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n"index_patterns"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v('"mysqlaudit'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("*")]),s._v('"'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n"mappings"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n   "properties"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n     "middleware_name"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"keyword"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n        "index"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v("true\n     "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n     "k8s_pod_namespace"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"keyword"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n        "index"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v("true\n     "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n     "query"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n        "type"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"text"'),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n        "index"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v("true"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n        "analyzer"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v('"ik_max_word"\n     '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v(",")]),s._v('\n"settings"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n   "index"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("{")]),s._v('\n      "max_result_window"'),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v(":")]),s._v(' "'),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("30000000")]),s._v('"\n    '),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v(" \n"),n("span",{pre:!0,attrs:{class:"token dfn builtin"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);